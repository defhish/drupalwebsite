/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function(Drupal){'use strict';Drupal.behaviors.addToAny={attach:function(context,settings){if(context!==document&&window.a2a)a2a.init_all();}};})(Drupal);;
(function($,Drupal){Drupal.theme.progressBar=function(id){const escapedId=Drupal.checkPlain(id);return (`<div id="${escapedId}" class="progress" aria-live="polite">`+'<div class="progress__label">&nbsp;</div>'+'<div class="progress__track"><div class="progress__bar"></div></div>'+'<div class="progress__percentage"></div>'+'<div class="progress__description">&nbsp;</div>'+'</div>');};Drupal.ProgressBar=function(id,updateCallback,method,errorCallback){this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$(Drupal.theme('progressBar',id));};$.extend(Drupal.ProgressBar.prototype,{setProgress(percentage,message,label){if(percentage>=0&&percentage<=100){$(this.element).find('div.progress__bar').each(function(){this.style.width=`${percentage}%`;});$(this.element).find('div.progress__percentage').html(`${percentage}%`);}$('div.progress__description',this.element).html(message);$('div.progress__label',this.element).html(label);if(this.updateCallback)this.updateCallback(percentage,message,this);},startMonitoring(uri,delay){this.delay=delay;this.uri=uri;this.sendPing();},stopMonitoring(){clearTimeout(this.timer);this.uri=null;},sendPing(){if(this.timer)clearTimeout(this.timer);if(this.uri){const pb=this;let uri=this.uri;if(!uri.includes('?'))uri+='?';else uri+='&';uri+='_format=json';$.ajax({type:this.method,url:uri,data:'',dataType:'json',success(progress){if(progress.status===0){pb.displayError(progress.data);return;}pb.setProgress(progress.percentage,progress.message,progress.label);pb.timer=setTimeout(()=>{pb.sendPing();},pb.delay);},error(xmlhttp){const e=new Drupal.AjaxError(xmlhttp,pb.uri);pb.displayError(`<pre>${e.message}</pre>`);}});}},displayError(string){const error=$('<div class="messages messages--error"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback)this.errorCallback(this);}});})(jQuery,Drupal);;
/* @license MIT https://raw.githubusercontent.com/muicss/loadjs/4.3.0/LICENSE.txt */
loadjs=function(){var h=function(){},o={},c={},f={};function u(e,n){if(e){var t=f[e];if(c[e]=n,t)for(;t.length;)t[0](e,n),t.splice(0,1)}}function l(e,n){e.call&&(e={success:e}),n.length?(e.error||h)(n):(e.success||h)(e)}function p(t,r,i,s){var o,e,u,n=document,c=i.async,f=(i.numRetries||0)+1,l=i.before||h,a=t.replace(/[\?|#].*$/,""),d=t.replace(/^(css|img|module|nomodule)!/,"");if(s=s||0,/(^css!|\.css$)/.test(a))(u=n.createElement("link")).rel="stylesheet",u.href=d,(o="hideFocus"in u)&&u.relList&&(o=0,u.rel="preload",u.as="style");else if(/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(a))(u=n.createElement("img")).src=d;else if((u=n.createElement("script")).src=d,u.async=void 0===c||c,e="noModule"in u,/^module!/.test(a)){if(!e)return r(t,"l");u.type="module"}else if(/^nomodule!/.test(a)&&e)return r(t,"l");!(u.onload=u.onerror=u.onbeforeload=function(e){var n=e.type[0];if(o)try{u.sheet.cssText.length||(n="e")}catch(e){18!=e.code&&(n="e")}if("e"==n){if((s+=1)<f)return p(t,r,i,s)}else if("preload"==u.rel&&"style"==u.as)return u.rel="stylesheet";r(t,n,e.defaultPrevented)})!==l(t,u)&&n.head.appendChild(u)}function t(e,n,t){var r,i;if(n&&n.trim&&(r=n),i=(r?t:n)||{},r){if(r in o)throw"LoadJS";o[r]=!0}function s(n,t){!function(e,r,n){var t,i,s=(e=e.push?e:[e]).length,o=s,u=[];for(t=function(e,n,t){if("e"==n&&u.push(e),"b"==n){if(!t)return;u.push(e)}--s||r(u)},i=0;i<o;i++)p(e[i],t,n)}(e,function(e){l(i,e),n&&l({success:n,error:t},e),u(r,e)},i)}if(i.returnPromise)return new Promise(s);s()}return t.ready=function(e,n){return function(e,t){e=e.push?e:[e];var n,r,i,s=[],o=e.length,u=o;for(n=function(e,n){n.length&&s.push(e),--u||t(s)};o--;)r=e[o],(i=c[r])?n(r,i):(f[r]=f[r]||[]).push(n)}(e,function(e){l(n,e)}),t},t.done=function(e){u(e,[])},t.reset=function(){o={},c={},f={}},t.isDefined=function(e){return e in o},t}();;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
Drupal.debounce=function(func,wait,immediate){let timeout;let result;return function(...args){const context=this;const later=function(){timeout=null;if(!immediate)result=func.apply(context,args);};const callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)result=func.apply(context,args);return result;};};;
(function(Drupal,debounce){let liveElement;const announcements=[];Drupal.behaviors.drupalAnnounce={attach(context){if(!liveElement){liveElement=document.createElement('div');liveElement.id='drupal-live-announce';liveElement.className='visually-hidden';liveElement.setAttribute('aria-live','polite');liveElement.setAttribute('aria-busy','false');document.body.appendChild(liveElement);}}};function announce(){const text=[];let priority='polite';let announcement;const il=announcements.length;for(let i=0;i<il;i++){announcement=announcements.pop();text.unshift(announcement.text);if(announcement.priority==='assertive')priority='assertive';}if(text.length){liveElement.innerHTML='';liveElement.setAttribute('aria-busy','true');liveElement.setAttribute('aria-live',priority);liveElement.innerHTML=text.join('\n');liveElement.setAttribute('aria-busy','false');}}Drupal.announce=function(text,priority){announcements.push({text,priority});return debounce(announce,200)();};})(Drupal,Drupal.debounce);;
((Drupal)=>{Drupal.Message=class{constructor(messageWrapper=null){if(!messageWrapper)this.messageWrapper=Drupal.Message.defaultWrapper();else this.messageWrapper=messageWrapper;}static defaultWrapper(){let wrapper=document.querySelector('[data-drupal-messages]')||document.querySelector('[data-drupal-messages-fallback]');if(!wrapper){wrapper=document.createElement('div');document.body.appendChild(wrapper);}if(wrapper.hasAttribute('data-drupal-messages-fallback')){wrapper.removeAttribute('data-drupal-messages-fallback');wrapper.classList.remove('hidden');}wrapper.setAttribute('data-drupal-messages','');return wrapper.innerHTML===''?Drupal.Message.messageInternalWrapper(wrapper):wrapper.firstElementChild;}static getMessageTypeLabels(){return {status:Drupal.t('Status message'),error:Drupal.t('Error message'),warning:Drupal.t('Warning message')};}add(message,options={}){if(!options.hasOwnProperty('type'))options.type='status';if(typeof message!=='string')throw new Error('Message must be a string.');Drupal.Message.announce(message,options);options.id=options.id?String(options.id):`${options.type}-${Math.random().toFixed(15).replace('0.','')}`;if(!Drupal.Message.getMessageTypeLabels().hasOwnProperty(options.type)){const {type}=options;throw new Error(`The message type, ${type}, is not present in Drupal.Message.getMessageTypeLabels().`);}this.messageWrapper.appendChild(Drupal.theme('message',{text:message},options));return options.id;}select(id){return this.messageWrapper.querySelector(`[data-drupal-message-id^="${id}"]`);}remove(id){return this.messageWrapper.removeChild(this.select(id));}clear(){Array.prototype.forEach.call(this.messageWrapper.querySelectorAll('[data-drupal-message-id]'),(message)=>{this.messageWrapper.removeChild(message);});}static announce(message,options){if(!options.priority&&(options.type==='warning'||options.type==='error'))options.priority='assertive';if(options.announce!=='')Drupal.announce(options.announce||message,options.priority);}static messageInternalWrapper(messageWrapper){const innerWrapper=document.createElement('div');innerWrapper.setAttribute('class','messages__wrapper');messageWrapper.insertAdjacentElement('afterbegin',innerWrapper);return innerWrapper;}};Drupal.theme.message=({text},{type,id})=>{const messagesTypes=Drupal.Message.getMessageTypeLabels();const messageWrapper=document.createElement('div');messageWrapper.setAttribute('class',`messages messages--${type}`);messageWrapper.setAttribute('role',type==='error'||type==='warning'?'alert':'status');messageWrapper.setAttribute('data-drupal-message-id',id);messageWrapper.setAttribute('data-drupal-message-type',type);messageWrapper.setAttribute('aria-label',messagesTypes[type]);messageWrapper.innerHTML=`${text}`;return messageWrapper;};})(Drupal);;
(function($,window,Drupal,drupalSettings,loadjs,{isFocusable,tabbable}){Drupal.behaviors.AJAX={attach(context,settings){function loadAjaxBehavior(base){const elementSettings=settings.ajax[base];if(typeof elementSettings.selector==='undefined')elementSettings.selector=`#${base}`;once('drupal-ajax',$(elementSettings.selector)).forEach((el)=>{elementSettings.element=el;elementSettings.base=base;Drupal.ajax(elementSettings);});}Object.keys(settings.ajax||{}).forEach(loadAjaxBehavior);Drupal.ajax.bindAjaxLinks(document.body);once('ajax','.use-ajax-submit').forEach((el)=>{const elementSettings={};elementSettings.url=$(el.form).attr('action');elementSettings.setClick=true;elementSettings.event='click';elementSettings.progress={type:'throbber'};elementSettings.base=el.id;elementSettings.element=el;Drupal.ajax(elementSettings);});},detach(context,settings,trigger){if(trigger==='unload')Drupal.ajax.expired().forEach((instance)=>{Drupal.ajax.instances[instance.instanceIndex]=null;});}};Drupal.AjaxError=function(xmlhttp,uri,customMessage){let statusCode;let statusText;let responseText;if(xmlhttp.status)statusCode=`\n${Drupal.t('An AJAX HTTP error occurred.')}\n${Drupal.t('HTTP Result Code: !status',{'!status':xmlhttp.status})}`;else statusCode=`\n${Drupal.t('An AJAX HTTP request terminated abnormally.')}`;statusCode+=`\n${Drupal.t('Debugging information follows.')}`;const pathText=`\n${Drupal.t('Path: !uri',{'!uri':uri})}`;statusText='';try{statusText=`\n${Drupal.t('StatusText: !statusText',{'!statusText':xmlhttp.statusText.trim()})}`;}catch(e){}responseText='';try{responseText=`\n${Drupal.t('ResponseText: !responseText',{'!responseText':xmlhttp.responseText.trim()})}`;}catch(e){}responseText=responseText.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,'');responseText=responseText.replace(/[\n]+\s+/g,'\n');const readyStateText=xmlhttp.status===0?`\n${Drupal.t('ReadyState: !readyState',{'!readyState':xmlhttp.readyState})}`:'';customMessage=customMessage?`\n${Drupal.t('CustomMessage: !customMessage',{'!customMessage':customMessage})}`:'';this.message=statusCode+pathText+statusText+customMessage+responseText+readyStateText;this.name='AjaxError';if(!Drupal.AjaxError.messages)Drupal.AjaxError.messages=new Drupal.Message();Drupal.AjaxError.messages.add(Drupal.t("Oops, something went wrong. Check your browser's developer console for more details."),{type:'error'});};Drupal.AjaxError.prototype=new Error();Drupal.AjaxError.prototype.constructor=Drupal.AjaxError;Drupal.ajax=function(settings){if(arguments.length!==1)throw new Error('Drupal.ajax() function must be called with one configuration object only');const base=settings.base||false;const element=settings.element||false;delete settings.base;delete settings.element;if(!settings.progress&&!element)settings.progress=false;const ajax=new Drupal.Ajax(base,element,settings);ajax.instanceIndex=Drupal.ajax.instances.length;Drupal.ajax.instances.push(ajax);return ajax;};Drupal.ajax.instances=[];Drupal.ajax.expired=function(){return Drupal.ajax.instances.filter((instance)=>instance&&instance.element!==false&&!document.body.contains(instance.element));};Drupal.ajax.bindAjaxLinks=(element)=>{once('ajax','.use-ajax',element).forEach((ajaxLink)=>{const $linkElement=$(ajaxLink);const elementSettings={progress:{type:'throbber'},dialogType:$linkElement.data('dialog-type'),dialog:$linkElement.data('dialog-options'),dialogRenderer:$linkElement.data('dialog-renderer'),base:$linkElement.attr('id'),element:ajaxLink};const href=$linkElement.attr('href');if(href){elementSettings.url=href;elementSettings.event='click';}const httpMethod=$linkElement.data('ajax-http-method');if(httpMethod)elementSettings.httpMethod=httpMethod;Drupal.ajax(elementSettings);});};Drupal.Ajax=function(base,element,elementSettings){const defaults={httpMethod:'POST',event:element?'mousedown':null,keypress:true,selector:base?`#${base}`:null,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Processing...')},submit:{js:true}};$.extend(this,defaults,elementSettings);this.commands=new Drupal.AjaxCommands();this.instanceIndex=false;if(this.wrapper)this.wrapper=`#${this.wrapper}`;this.element=element;this.preCommandsFocusedElementSelector=null;this.elementSettings=elementSettings;if(this.element&&this.element.form)this.$form=$(this.element.form);if(!this.url){const $element=$(this.element);if(this.element.tagName==='A')this.url=$element.attr('href');else{if(this.element&&element.form)this.url=this.$form.attr('action');}}const originalUrl=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/,'/ajax$1');if(drupalSettings.ajaxTrustedUrl[originalUrl])drupalSettings.ajaxTrustedUrl[this.url]=true;const ajax=this;ajax.options={url:ajax.url,data:ajax.submit,isInProgress(){return ajax.ajaxing;},beforeSerialize(elementSettings,options){return ajax.beforeSerialize(elementSettings,options);},beforeSubmit(formValues,elementSettings,options){ajax.ajaxing=true;ajax.preCommandsFocusedElementSelector=null;return ajax.beforeSubmit(formValues,elementSettings,options);},beforeSend(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,options);},success(response,status,xmlhttprequest){ajax.preCommandsFocusedElementSelector=document.activeElement.getAttribute('data-drupal-selector');if(typeof response==='string')response=JSON.parse(response);if(response!==null&&!drupalSettings.ajaxTrustedUrl[ajax.url])if(xmlhttprequest.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){const customMessage=Drupal.t('The response failed verification so will not be processed.');return ajax.error(xmlhttprequest,ajax.url,customMessage);}return (Promise.resolve(ajax.success(response,status)).then(()=>{ajax.ajaxing=false;$(document).trigger('ajaxSuccess',[xmlhttprequest,this]);$(document).trigger('ajaxComplete',[xmlhttprequest,this]);if(--$.active===0)$(document).trigger('ajaxStop');}));},error(xmlhttprequest,status,error){ajax.ajaxing=false;},complete(xmlhttprequest,status){if(status==='error'||status==='parsererror')return ajax.error(xmlhttprequest,ajax.url);},dataType:'json',jsonp:false,method:ajax.httpMethod};if(elementSettings.dialog)ajax.options.data.dialogOptions=elementSettings.dialog;if(!ajax.options.url.includes('?'))ajax.options.url+='?';else ajax.options.url+='&';let wrapper=`drupal_${elementSettings.dialogType||'ajax'}`;if(elementSettings.dialogRenderer)wrapper+=`.${elementSettings.dialogRenderer}`;ajax.options.url+=`${Drupal.ajax.WRAPPER_FORMAT}=${wrapper}`;$(ajax.element).on(elementSettings.event,function(event){if(!drupalSettings.ajaxTrustedUrl[ajax.url]&&!Drupal.url.isLocal(ajax.url))throw new Error(Drupal.t('The callback URL is not local and not trusted: !url',{'!url':ajax.url}));return ajax.eventResponse(this,event);});if(elementSettings.keypress)$(ajax.element).on('keypress',function(event){return ajax.keypressResponse(this,event);});if(elementSettings.prevent)$(ajax.element).on(elementSettings.prevent,false);};Drupal.ajax.WRAPPER_FORMAT='_wrapper_format';Drupal.Ajax.AJAX_REQUEST_PARAMETER='_drupal_ajax';Drupal.Ajax.prototype.execute=function(){if(this.ajaxing)return;try{this.beforeSerialize(this.element,this.options);return $.ajax(this.options);}catch(e){this.ajaxing=false;window.alert(`An error occurred while attempting to process ${this.options.url}: ${e.message}`);return $.Deferred().reject();}};Drupal.Ajax.prototype.keypressResponse=function(element,event){const ajax=this;if(event.which===13||(event.which===32&&element.type!=='text'&&element.type!=='textarea'&&element.type!=='tel'&&element.type!=='number')){event.preventDefault();event.stopPropagation();$(element).trigger(ajax.elementSettings.event);}};Drupal.Ajax.prototype.eventResponse=function(element,event){event.preventDefault();event.stopPropagation();const ajax=this;if(ajax.ajaxing)return;try{if(ajax.$form){if(ajax.setClick)element.form.clk=element;ajax.$form.ajaxSubmit(ajax.options);}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options);}}catch(e){ajax.ajaxing=false;window.alert(`An error occurred while attempting to process ${ajax.options.url}: ${e.message}`);}};Drupal.Ajax.prototype.beforeSerialize=function(element,options){if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.detachBehaviors(this.$form.get(0),settings,'serialize');}options.data[Drupal.Ajax.AJAX_REQUEST_PARAMETER]=1;const pageState=drupalSettings.ajaxPageState;options.data['ajax_page_state[theme]']=pageState.theme;options.data['ajax_page_state[theme_token]']=pageState.theme_token;options.data['ajax_page_state[libraries]']=pageState.libraries;};Drupal.Ajax.prototype.beforeSubmit=function(formValues,element,options){};Drupal.Ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.$form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';const v=$.fieldValue(this.element);if(v!==null)options.extraData[this.element.name]=v;}$(this.element).prop('disabled',true);if(!this.progress||!this.progress.type)return;const progressIndicatorMethod=`setProgressIndicator${this.progress.type.slice(0,1).toUpperCase()}${this.progress.type.slice(1).toLowerCase()}`;if(progressIndicatorMethod in this&&typeof this[progressIndicatorMethod]==='function')this[progressIndicatorMethod].call(this);};Drupal.theme.ajaxProgressThrobber=(message)=>{const messageMarkup=typeof message==='string'?Drupal.theme('ajaxProgressMessage',message):'';const throbber='<div class="throbber">&nbsp;</div>';return `<div class="ajax-progress ajax-progress-throbber">${throbber}${messageMarkup}</div>`;};Drupal.theme.ajaxProgressIndicatorFullscreen=()=>'<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>';Drupal.theme.ajaxProgressMessage=(message)=>`<div class="message">${message}</div>`;Drupal.theme.ajaxProgressBar=($element)=>$('<div class="ajax-progress ajax-progress-bar"></div>').append($element);Drupal.Ajax.prototype.setProgressIndicatorBar=function(){const progressBar=new Drupal.ProgressBar(`ajax-progress-${this.element.id}`,$.noop,this.progress.method,$.noop);if(this.progress.message)progressBar.setProgress(-1,this.progress.message);if(this.progress.url)progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);this.progress.element=$(Drupal.theme('ajaxProgressBar',progressBar.element));this.progress.object=progressBar;$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=$(Drupal.theme('ajaxProgressThrobber',this.progress.message));if($(this.element).closest('[data-drupal-ajax-container]').length)$(this.element).closest('[data-drupal-ajax-container]').after(this.progress.element);else $(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=$(Drupal.theme('ajaxProgressIndicatorFullscreen'));$('body').append(this.progress.element);};Drupal.Ajax.prototype.commandExecutionQueue=function(response,status){const ajaxCommands=this.commands;return Object.keys(response||{}).reduce((executionQueue,key)=>executionQueue.then(()=>{const {command}=response[key];if(command&&ajaxCommands[command])return ajaxCommands[command](this,response[key],status);}),Promise.resolve());};Drupal.Ajax.prototype.success=function(response,status){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.element).prop('disabled',false);const elementParents=$(this.element).parents('[data-drupal-selector]').addBack().toArray();const focusChanged=Object.keys(response||{}).some((key)=>{const {command,method}=response[key];return (command==='focusFirst'||command==='openDialog'||(command==='invoke'&&method==='focus'));});return (this.commandExecutionQueue(response,status).then(()=>{if(!focusChanged){let target=false;if(this.element){if($(this.element).data('refocus-blur')&&this.preCommandsFocusedElementSelector)target=document.querySelector(`[data-drupal-selector="${this.preCommandsFocusedElementSelector}"]`);if(!target&&!$(this.element).data('disable-refocus')){for(let n=elementParents.length-1;!target&&n>=0;n--)target=document.querySelector(`[data-drupal-selector="${elementParents[n].getAttribute('data-drupal-selector')}"]`);}}if(target)$(target).trigger('focus');}if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}this.settings=null;}).catch((error)=>console.error(Drupal.t('An error occurred during the execution of the Ajax response: !error',{'!error':error}))));};Drupal.Ajax.prototype.getEffect=function(response){const type=response.effect||this.effect;const speed=response.speed||this.speed;const effect={};if(type==='none'){effect.showEffect='show';effect.hideEffect='hide';effect.showSpeed='';}else if(type==='fade'){effect.showEffect='fadeIn';effect.hideEffect='fadeOut';effect.showSpeed=speed;}else{effect.showEffect=`${type}Toggle`;effect.hideEffect=`${type}Toggle`;effect.showSpeed=speed;}return effect;};Drupal.Ajax.prototype.error=function(xmlhttprequest,uri,customMessage){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.wrapper).show();$(this.element).prop('disabled',false);if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}throw new Drupal.AjaxError(xmlhttprequest,uri,customMessage);};Drupal.theme.ajaxWrapperNewContent=($newContent,ajax,response)=>(response.effect||ajax.effect)!=='none'&&$newContent.filter((i)=>!(($newContent[i].nodeName==='#comment'||($newContent[i].nodeName==='#text'&&/^(\s|\n|\r)*$/.test($newContent[i].textContent))))).length>1?Drupal.theme('ajaxWrapperMultipleRootElements',$newContent):$newContent;Drupal.theme.ajaxWrapperMultipleRootElements=($elements)=>$('<div></div>').append($elements);Drupal.AjaxCommands=function(){};Drupal.AjaxCommands.prototype={insert(ajax,response){const $wrapper=response.selector?$(response.selector):$(ajax.wrapper);const method=response.method||ajax.method;const effect=ajax.getEffect(response);const settings=response.settings||ajax.settings||drupalSettings;const parseHTML=(htmlString)=>{const fragment=document.createDocumentFragment();const tempDiv=fragment.appendChild(document.createElement('div'));tempDiv.innerHTML=htmlString;return tempDiv.childNodes;};let $newContent=$(parseHTML(response.data));$newContent=Drupal.theme('ajaxWrapperNewContent',$newContent,ajax,response);switch(method){case 'html':case 'replaceWith':case 'replaceAll':case 'empty':case 'remove':Drupal.detachBehaviors($wrapper.get(0),settings);break;default:break;}$wrapper[method]($newContent);if(effect.showEffect!=='show')$newContent.hide();const $ajaxNewContent=$newContent.find('.ajax-new-content');if($ajaxNewContent.length){$ajaxNewContent.hide();$newContent.show();$ajaxNewContent[effect.showEffect](effect.showSpeed);}else{if(effect.showEffect!=='show')$newContent[effect.showEffect](effect.showSpeed);}$newContent.each((index,element)=>{if(element.nodeType===Node.ELEMENT_NODE&&document.documentElement.contains(element))Drupal.attachBehaviors(element,settings);});},remove(ajax,response,status){const settings=response.settings||ajax.settings||drupalSettings;$(response.selector).each(function(){Drupal.detachBehaviors(this,settings);}).remove();},changed(ajax,response,status){const $element=$(response.selector);if(!$element.hasClass('ajax-changed')){$element.addClass('ajax-changed');if(response.asterisk)$element.find(response.asterisk).append(` <abbr class="ajax-changed" title="${Drupal.t('Changed')}">*</abbr> `);}},alert(ajax,response,status){window.alert(response.text);},announce(ajax,response){if(response.priority)Drupal.announce(response.text,response.priority);else Drupal.announce(response.text);},redirect(ajax,response,status){window.location=response.url;},css(ajax,response,status){$(response.selector).css(response.argument);},settings(ajax,response,status){const ajaxSettings=drupalSettings.ajax;if(ajaxSettings)Drupal.ajax.expired().forEach((instance)=>{if(instance.selector){const selector=instance.selector.replace('#','');if(selector in ajaxSettings)delete ajaxSettings[selector];}});if(response.merge)$.extend(true,drupalSettings,response.settings);else ajax.settings=response.settings;},data(ajax,response,status){$(response.selector).data(response.name,response.value);},focusFirst(ajax,response,status){let focusChanged=false;const container=document.querySelector(response.selector);if(container){const tabbableElements=tabbable(container);if(tabbableElements.length){tabbableElements[0].focus();focusChanged=true;}else{if(isFocusable(container)){container.focus();focusChanged=true;}}}if(ajax.hasOwnProperty('element')&&!focusChanged)ajax.element.focus();},invoke(ajax,response,status){const $element=$(response.selector);$element[response.method](...response.args);},restripe(ajax,response,status){$(response.selector).find('> tbody > tr:visible, > tr:visible').removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even');},update_build_id(ajax,response,status){document.querySelectorAll(`input[name="form_build_id"][value="${response.old}"]`).forEach((item)=>{item.value=response.new;});},add_css(ajax,response,status){const allUniqueBundleIds=response.data.map(function(style){const uniqueBundleId=style.href;if(!loadjs.isDefined(uniqueBundleId))loadjs(`css!${style.href}`,uniqueBundleId,{before(path,styleEl){Object.keys(style).forEach((attributeKey)=>{styleEl.setAttribute(attributeKey,style[attributeKey]);});}});return uniqueBundleId;});return new Promise((resolve,reject)=>{loadjs.ready(allUniqueBundleIds,{success(){resolve();},error(depsNotFound){const message=Drupal.t(`The following files could not be loaded: @dependencies`,{'@dependencies':depsNotFound.join(', ')});reject(message);}});});},message(ajax,response){const messages=new Drupal.Message(document.querySelector(response.messageWrapperQuerySelector));if(response.clearPrevious)messages.clear();messages.add(response.message,response.messageOptions);},add_js(ajax,response,status){const parentEl=document.querySelector(response.selector||'body');const settings=ajax.settings||drupalSettings;const allUniqueBundleIds=response.data.map((script)=>{const uniqueBundleId=script.src;if(!loadjs.isDefined(uniqueBundleId))loadjs(script.src,uniqueBundleId,{async:false,before(path,scriptEl){Object.keys(script).forEach((attributeKey)=>{scriptEl.setAttribute(attributeKey,script[attributeKey]);});parentEl.appendChild(scriptEl);return false;}});return uniqueBundleId;});return new Promise((resolve,reject)=>{loadjs.ready(allUniqueBundleIds,{success(){Drupal.attachBehaviors(parentEl,settings);resolve();},error(depsNotFound){const message=Drupal.t(`The following files could not be loaded: @dependencies`,{'@dependencies':depsNotFound.join(', ')});reject(message);}});});},scrollTop(ajax,response){const offset=$(response.selector).offset();let scrollTarget=response.selector;while($(scrollTarget).scrollTop()===0&&$(scrollTarget).parent())scrollTarget=$(scrollTarget).parent();if(offset.top-10<$(scrollTarget).scrollTop())scrollTarget.get(0).scrollTo({top:offset.top-10,behavior:'smooth'});}};const stopEvent=(xhr,settings)=>{return (xhr.getResponseHeader('X-Drupal-Ajax-Token')==='1'&&settings.isInProgress&&settings.isInProgress());};$.extend(true,$.event.special,{ajaxSuccess:{trigger(event,xhr,settings){if(stopEvent(xhr,settings))return false;}},ajaxComplete:{trigger(event,xhr,settings){if(stopEvent(xhr,settings)){$.active++;return false;}}}});})(jQuery,window,Drupal,drupalSettings,loadjs,window.tabbable);;
((Drupal,drupalSettings)=>{const replacementsSelector=`script[data-big-pipe-replacement-for-placeholder-with-id]`;const ajaxObject=Drupal.ajax({url:'',base:false,element:false,progress:false});function mapTextContentToAjaxResponse(content){if(content==='')return false;try{return JSON.parse(content);}catch(e){return false;}}function processReplacement(replacement){const id=replacement.dataset.bigPipeReplacementForPlaceholderWithId;const content=replacement.textContent.trim();if(typeof drupalSettings.bigPipePlaceholderIds[id]==='undefined')return;const response=mapTextContentToAjaxResponse(content);if(response===false)return;delete drupalSettings.bigPipePlaceholderIds[id];ajaxObject.success(response,'success');}function checkMutation(node){return Boolean(node.nodeType===Node.ELEMENT_NODE&&node.nodeName==='SCRIPT'&&node.dataset&&node.dataset.bigPipeReplacementForPlaceholderWithId&&typeof drupalSettings.bigPipePlaceholderIds[node.dataset.bigPipeReplacementForPlaceholderWithId]!=='undefined');}function checkMutationAndProcess(node){if(checkMutation(node))processReplacement(node);else{if(node.parentNode!==null&&checkMutation(node.parentNode))processReplacement(node.parentNode);}}function processMutations(mutations){mutations.forEach(({addedNodes,type,target})=>{addedNodes.forEach(checkMutationAndProcess);if(type==='characterData'&&checkMutation(target.parentNode)&&drupalSettings.bigPipePlaceholderIds[target.parentNode.dataset.bigPipeReplacementForPlaceholderWithId]===true)processReplacement(target.parentNode);});}const observer=new MutationObserver(processMutations);Drupal.attachBehaviors(document);document.querySelectorAll(replacementsSelector).forEach(processReplacement);observer.observe(document.body,{childList:true,subtree:true,characterData:true});window.addEventListener('DOMContentLoaded',()=>{const mutations=observer.takeRecords();observer.disconnect();if(mutations.length)processMutations(mutations);Drupal.ajax.instances[ajaxObject.instanceIndex]=null;});})(Drupal,drupalSettings);;
(function($,Drupal,{tabbable,isTabbable}){function TabbingManager(){this.stack=[];}function TabbingContext(options){$.extend(this,{level:null,$tabbableElements:$(),$disabledElements:$(),released:false,active:false,trapFocus:false},options);}$.extend(TabbingManager.prototype,{constrain(elements,{trapFocus=false}={}){const il=this.stack.length;for(let i=0;i<il;i++)this.stack[i].deactivate();let tabbableElements=[];$(elements).each((index,rootElement)=>{tabbableElements=[...tabbableElements,...tabbable(rootElement)];if(isTabbable(rootElement))tabbableElements=[...tabbableElements,rootElement];});const tabbingContext=new TabbingContext({level:this.stack.length,$tabbableElements:$(tabbableElements),trapFocus});this.stack.push(tabbingContext);tabbingContext.activate();$(document).trigger('drupalTabbingConstrained',tabbingContext);return tabbingContext;},release(){let toActivate=this.stack.length-1;while(toActivate>=0&&this.stack[toActivate].released)toActivate--;this.stack.splice(toActivate+1);if(toActivate>=0)this.stack[toActivate].activate();},activate(tabbingContext){const $set=tabbingContext.$tabbableElements;const level=tabbingContext.level;const $disabledSet=$(tabbable(document.body)).not($set);tabbingContext.$disabledElements=$disabledSet;const il=$disabledSet.length;for(let i=0;i<il;i++)this.recordTabindex($disabledSet.eq(i),level);$disabledSet.prop('tabindex',-1).prop('autofocus',false);let $hasFocus=$set.filter('[autofocus]').eq(-1);if($hasFocus.length===0)$hasFocus=$set.eq(0);$hasFocus.trigger('focus');if($set.length&&tabbingContext.trapFocus){$set.last().on('keydown.focus-trap',(event)=>{if(event.key==='Tab'&&!event.shiftKey){event.preventDefault();$set.first().focus();}});$set.first().on('keydown.focus-trap',(event)=>{if(event.key==='Tab'&&event.shiftKey){event.preventDefault();$set.last().focus();}});}},deactivate(tabbingContext){const $set=tabbingContext.$disabledElements;const level=tabbingContext.level;const il=$set.length;tabbingContext.$tabbableElements.first().off('keydown.focus-trap');tabbingContext.$tabbableElements.last().off('keydown.focus-trap');for(let i=0;i<il;i++)this.restoreTabindex($set.eq(i),level);},recordTabindex($el,level){const tabInfo=$el.data('drupalOriginalTabIndices')||{};tabInfo[level]={tabindex:$el[0].getAttribute('tabindex'),autofocus:$el[0].hasAttribute('autofocus')};$el.data('drupalOriginalTabIndices',tabInfo);},restoreTabindex($el,level){const tabInfo=$el.data('drupalOriginalTabIndices');if(tabInfo&&tabInfo[level]){const data=tabInfo[level];if(data.tabindex)$el[0].setAttribute('tabindex',data.tabindex);else $el[0].removeAttribute('tabindex');if(data.autofocus)$el[0].setAttribute('autofocus','autofocus');if(level===0)$el.removeData('drupalOriginalTabIndices');else{let levelToDelete=level;while(tabInfo.hasOwnProperty(levelToDelete)){delete tabInfo[levelToDelete];levelToDelete++;}$el.data('drupalOriginalTabIndices',tabInfo);}}}});$.extend(TabbingContext.prototype,{release(){if(!this.released){this.deactivate();this.released=true;Drupal.tabbingManager.release(this);$(document).trigger('drupalTabbingContextReleased',this);}},activate(){if(!this.active&&!this.released){this.active=true;Drupal.tabbingManager.activate(this);$(document).trigger('drupalTabbingContextActivated',this);}},deactivate(){if(this.active){this.active=false;Drupal.tabbingManager.deactivate(this);$(document).trigger('drupalTabbingContextDeactivated',this);}}});if(Drupal.tabbingManager)return;Drupal.tabbingManager=new TabbingManager();})(jQuery,Drupal,window.tabbable);;
(function($,Drupal,Backbone){const strings={tabbingReleased:Drupal.t('Tabbing is no longer constrained by the Contextual module.'),tabbingConstrained:Drupal.t('Tabbing is constrained to a set of @contextualsCount and the edit mode toggle.'),pressEsc:Drupal.t('Press the esc key to exit.')};function initContextualToolbar(context){if(!Drupal.contextual||!Drupal.contextual.collection)return;const contextualToolbar=Drupal.contextualToolbar;contextualToolbar.model=new contextualToolbar.StateModel({isViewing:document.querySelector('body .contextual-region')===null||localStorage.getItem('Drupal.contextualToolbar.isViewing')!=='false'},{contextualCollection:Drupal.contextual.collection});const viewOptions={el:$('.toolbar .toolbar-bar .contextual-toolbar-tab'),model:contextualToolbar.model,strings};new contextualToolbar.VisualView(viewOptions);new contextualToolbar.AuralView(viewOptions);}Drupal.behaviors.contextualToolbar={attach(context){if(once('contextualToolbar-init','body').length)initContextualToolbar(context);}};Drupal.contextualToolbar={model:null};})(jQuery,Drupal,Backbone);;
(function(Drupal,Backbone){Drupal.contextualToolbar.StateModel=Backbone.Model.extend({defaults:{isViewing:true,isVisible:false,contextualCount:0,tabbingContext:null},initialize(attrs,options){this.listenTo(options.contextualCollection,'reset remove add',this.countContextualLinks);this.listenTo(options.contextualCollection,'add',this.lockNewContextualLinks);this.listenTo(this,'change:contextualCount',this.updateVisibility);this.listenTo(this,'change:isViewing',(model,isViewing)=>{options.contextualCollection.each((contextualModel)=>{contextualModel.set('isLocked',!isViewing);});});},countContextualLinks(contextualModel,contextualCollection){this.set('contextualCount',contextualCollection.length);},lockNewContextualLinks(contextualModel,contextualCollection){if(!this.get('isViewing'))contextualModel.set('isLocked',true);},updateVisibility(){this.set('isVisible',this.get('contextualCount')>0);}});})(Drupal,Backbone);;
(function($,Drupal,Backbone,_){Drupal.contextualToolbar.AuralView=Backbone.View.extend({announcedOnce:false,initialize(options){this.options=options;this.listenTo(this.model,'change',this.render);this.listenTo(this.model,'change:isViewing',this.manageTabbing);$(document).on('keyup',_.bind(this.onKeypress,this));this.manageTabbing();},render(){this.$el.find('button').attr('aria-pressed',!this.model.get('isViewing'));return this;},manageTabbing(){let tabbingContext=this.model.get('tabbingContext');if(tabbingContext){if(tabbingContext.active)Drupal.announce(this.options.strings.tabbingReleased);tabbingContext.release();}if(!this.model.get('isViewing')){tabbingContext=Drupal.tabbingManager.constrain($('.contextual-toolbar-tab, .contextual'));this.model.set('tabbingContext',tabbingContext);this.announceTabbingConstraint();this.announcedOnce=true;}},announceTabbingConstraint(){const strings=this.options.strings;Drupal.announce(Drupal.formatString(strings.tabbingConstrained,{'@contextualsCount':Drupal.formatPlural(Drupal.contextual.collection.length,'@count contextual link','@count contextual links')}));Drupal.announce(strings.pressEsc);},onKeypress(event){if(!this.announcedOnce&&event.keyCode===9&&!this.model.get('isViewing')){this.announceTabbingConstraint();this.announcedOnce=true;}if(event.keyCode===27)this.model.set('isViewing',true);}});})(jQuery,Drupal,Backbone,_);;
(function(Drupal,Backbone){Drupal.contextualToolbar.VisualView=Backbone.View.extend({events(){const touchEndToClick=function(event){event.preventDefault();event.target.click();};return {click(){this.model.set('isViewing',!this.model.get('isViewing'));},touchend:touchEndToClick};},initialize(){this.listenTo(this.model,'change',this.render);this.listenTo(this.model,'change:isViewing',this.persist);},render(){this.$el.toggleClass('hidden',!this.model.get('isVisible'));this.$el.find('button').toggleClass('is-active',!this.model.get('isViewing'));return this;},persist(model,isViewing){if(!isViewing)localStorage.setItem('Drupal.contextualToolbar.isViewing','false');else localStorage.removeItem('Drupal.contextualToolbar.isViewing');}});})(Drupal,Backbone);;
(function(Drupal,drupalSettings){Drupal.behaviors.activeLinks={attach(context){const path=drupalSettings.path;const queryString=JSON.stringify(path.currentQuery);const querySelector=queryString?`[data-drupal-link-query="${CSS.escape(queryString)}"]`:':not([data-drupal-link-query])';const originalSelectors=[`[data-drupal-link-system-path="${CSS.escape(path.currentPath)}"]`];let selectors;if(path.isFront)originalSelectors.push('[data-drupal-link-system-path="<front>"]');selectors=[].concat(originalSelectors.map((selector)=>`${selector}:not([hreflang])`),originalSelectors.map((selector)=>`${selector}[hreflang="${path.currentLanguage}"]`));selectors=selectors.map((current)=>current+querySelector);const activeLinks=context.querySelectorAll(selectors.join(','));const il=activeLinks.length;for(let i=0;i<il;i++){activeLinks[i].classList.add('is-active');activeLinks[i].setAttribute('aria-current','page');}},detach(context,settings,trigger){if(trigger==='unload'){const activeLinks=context.querySelectorAll('[data-drupal-link-system-path].is-active');const il=activeLinks.length;for(let i=0;i<il;i++){activeLinks[i].classList.remove('is-active');activeLinks[i].removeAttribute('aria-current');}}}};})(Drupal,drupalSettings);;
((Drupal,drupalSettings,once)=>{'use strict';Drupal.solo={};const cssStyles={overflow:'hidden',height:'0',paddingTop:'0',paddingBottom:'0',marginTop:'0',marginBottom:'0'};const removeStyles=(target)=>{const stylesToRemove=['height','paddingTop','paddingBottom','marginTop','marginBottom','overflow','transitionDuration','transitionProperty'];stylesToRemove.forEach((st)=>target.style.removeProperty(st));};Drupal.solo.removeStyles=removeStyles;const updateTabindex=(target,isOpen)=>{const firstLevelItems=target.querySelectorAll(':scope > li > a, :scope > li > button');firstLevelItems.forEach((item)=>{item.setAttribute('tabindex',isOpen?'0':'-1');});};const slideUp=(target,duration=600)=>{target.style.transitionProperty='height, margin, padding';target.style.transitionDuration=`${duration}ms`;target.style.transitionTimingFunction='ease-in-out';target.style.boxSizing='border-box';target.style.height=`${target.offsetHeight}px`;target.offsetHeight;target.classList.remove('toggled');target.setAttribute('aria-hidden','true');updateTabindex(target,false);Object.keys(cssStyles).forEach((style)=>{target.style[style]=cssStyles[style];});setTimeout(()=>{target.style.display='none';removeStyles(target);},duration);};Drupal.solo.slideUp=slideUp;const slideDown=(target,menuDisplay='block',duration=600)=>{target.style.removeProperty('display');let currentDisplay=window.getComputedStyle(target).display;if(currentDisplay==='none')currentDisplay=menuDisplay;target.style.display=menuDisplay;let height=target.offsetHeight;height=Math.round(height);Object.keys(cssStyles).forEach((style)=>{target.style[style]=cssStyles[style];});target.offsetHeight;target.style.boxSizing='border-box';target.style.transitionProperty="height, margin, padding";target.style.transitionDuration=`${duration}ms`;target.style.transitionTimingFunction='ease-in-out';target.style.height=`${height}px`;target.classList.add('toggled');target.setAttribute('aria-hidden','false');updateTabindex(target,true);['paddingTop','paddingBottom','marginTop','marginBottom'].forEach((property)=>{target.style.removeProperty(property);});setTimeout(()=>{['height','overflow','transitionDuration','transitionProperty'].forEach((property)=>target.style.removeProperty(property));},duration);};Drupal.solo.slideDown=slideDown;const slideToggle=(target,duration=500)=>{if(!target.classList.contains('toggled'))return slideDown(target,duration);else return slideUp(target,duration);};Drupal.solo.slideToggle=slideToggle;const getCurrentWidth=()=>window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;const calculateDepth=(element)=>{let depth=1;let parent=element.parentElement;while(parent){if(parent.tagName.toLowerCase()==='ul')depth++;parent=parent.parentElement;}return depth;};const addClassAccordingToDepth=(element,depth)=>{element.classList.add(`ul-${depth}`);Array.from(element.children).forEach((child)=>child.classList.add(`li-${depth}`));};Drupal.solo.calculateDepth=calculateDepth;const getMyBreakpoints=(element,mn)=>{const classes=[`${mn}-576`,`${mn}-768`,`${mn}-992`,`${mn}-1200`,`${mn}-1400`];const classList=Array.from(element.classList);const foundClass=classList.find((c)=>classes.includes(c));return foundClass?parseInt(foundClass.split('-')[1]):992;};Drupal.solo.getMyBreakpoints=getMyBreakpoints;Drupal.solo.getBreakpointNumber=(breakpointPrefix='mn')=>{const pageClass=document.querySelector('.page-wrapper');return Drupal.solo.getMyBreakpoints(pageClass,breakpointPrefix);};const getLayout=()=>{const pageClass=document.querySelector('.page-wrapper');const brNum=Drupal.solo.getMyBreakpoints(pageClass,'mn');const currentWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return currentWidth>brNum?'large':'small';};Drupal.solo.getLayout=getLayout;Drupal.behaviors.soloMenuDepth={attach:(context,settings)=>{const menus=once('soloMenuDepth','.solo-inner nav ul:not(.field ul)',context);menus.forEach((element)=>{const depth=calculateDepth(element);addClassAccordingToDepth(element,depth);});}};Drupal.behaviors.soloSearchAnimation={attach:(context,settings)=>{const detailsElements=once('soloDetailsAnimation','.search-form details.search-advanced',context);detailsElements?.forEach((detail)=>{const wrapper=detail.querySelector('.details-wrapper');if(wrapper){if(!detail.open){wrapper.style.height=0;wrapper.style.opacity=0;wrapper.style.overflow='hidden';}detail.addEventListener('toggle',()=>{if(detail.open){const contentHeight=wrapper.scrollHeight+'px';wrapper.style.height=contentHeight;wrapper.style.opacity=1;wrapper.addEventListener('transitionend',()=>{if(detail.open)wrapper.style.height='auto';},{once:true});}else{wrapper.style.height=wrapper.scrollHeight+'px';requestAnimationFrame(()=>{wrapper.style.height=0;wrapper.style.opacity=0;});}});}});}};})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';const getCurrentWidth=()=>window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;const checkRegionsWidth=()=>{const regions=document.querySelectorAll('.region-inner, .copyright-inner, .footer-menu-inner');regions.forEach((region)=>{const regionWidth=region.getBoundingClientRect().width;region.classList.remove('region-xs','region-s','region-m','region-l','region-xl','region-xxl');if(regionWidth<=320)region.classList.add('region-xs');else if(regionWidth>320&&regionWidth<=576)region.classList.add('region-s');else if(regionWidth>576&&regionWidth<=768)region.classList.add('region-m');else if(regionWidth>768&&regionWidth<=992)region.classList.add('region-l');else if(regionWidth>992&&regionWidth<=1200)region.classList.add('region-xl');else{if(regionWidth>1200)region.classList.add('region-xxl');}});};const mediaSize=()=>{const currentWidth=getCurrentWidth();const bodyTag=document.body;bodyTag.classList.remove('small-screen','medium-screen','large-screen');if(currentWidth>=992)bodyTag.classList.add('large-screen');else if(currentWidth>=576&&currentWidth<992)bodyTag.classList.add('medium-screen');else{if(currentWidth<576)bodyTag.classList.add('small-screen');}checkRegionsWidth();};Drupal.behaviors.soloTheme={attach:function(context,settings){const fileSpans=context.querySelectorAll('.field--type-file span.file');fileSpans.forEach((span)=>{const link=span.querySelector('a');if(link&&span.contains(link)){const url=link.getAttribute('href');const urlParts=url.split('.');const fileExtension=urlParts[urlParts.length-1];if(fileExtension)span.classList.add(`file--${fileExtension}`);}});const footerMenu=context.querySelector('#footer-menu');if(footerMenu){const footerFormBg=window.getComputedStyle(footerMenu).backgroundColor;const footerFormTxt=window.getComputedStyle(footerMenu).color;let footerMenuForm=context.querySelector('#footer-menu form');if(footerMenuForm){footerMenuForm.style.background=footerFormBg;footerMenuForm.style.color=footerFormTxt;}}const detailsElements=context.querySelectorAll('#system-theme-settings details');detailsElements.forEach((element)=>{element.removeAttribute('open');});let clickableElements=context.querySelectorAll('a > img, a > picture');const filteredElements=Array.from(clickableElements).filter((el)=>{let ancestor=el.parentElement;while(ancestor&&ancestor!==document.body){if(ancestor.matches('.site-logo, .field--name-user-picture, .field--type-text-long, .field--type-text-with-summary'))return false;ancestor=ancestor.parentElement;}if(el.classList.contains('icon')||(el.parentElement&&el.parentElement.classList.contains('icon')))return false;return true;});filteredElements.forEach((el)=>{el.parentElement.classList.add('img--is-clickable');});const handleBrokenImages=(context)=>{const images=context.querySelectorAll('img');images.forEach((img)=>{img.onerror=function(){if(!this.classList.contains('broken-image')){this.classList.add('broken-image');const placeholder=document.createElement('div');placeholder.className='img-placeholder';placeholder.innerHTML='Image not available';this.style.display='none';this.parentNode.insertBefore(placeholder,this.nextSibling);}};img.src=img.src;});};let skipLinkClicked=false;const handleSkipLinkClick=(skipLinkSelector,targetSelector)=>{const skipLink=document.querySelector(skipLinkSelector);const targetElement=document.querySelector(targetSelector);if(skipLink&&targetElement)skipLink.addEventListener('click',(event)=>{event.preventDefault();skipLinkClicked=true;targetElement.setAttribute('tabindex','-1');targetElement.focus({preventScroll:true});window.scrollTo({top:targetElement.offsetTop,behavior:'smooth'});setTimeout(()=>{targetElement.removeAttribute('tabindex');},500);history.replaceState(null,'',window.location.pathname);});};handleSkipLinkClick('.skip-link[href="#header-content"]','#header-content');handleSkipLinkClick('.skip-link[href="#main-navigation-content"]','#main-navigation-content');handleSkipLinkClick('.skip-link[href="#main-content"]','#main-content');handleSkipLinkClick('.skip-link[href="#footer-content"]','#footer-content');if(window.location.hash&&skipLinkClicked){const targetElement=document.querySelector(window.location.hash);if(targetElement){window.scrollTo({top:targetElement.offsetTop,behavior:'smooth'});targetElement.setAttribute('tabindex','-1');targetElement.focus({preventScroll:true});setTimeout(()=>{targetElement.removeAttribute('tabindex');},500);}}handleBrokenImages(context);mediaSize();let resizeTimeout;window.addEventListener('resize',()=>{clearTimeout(resizeTimeout);resizeTimeout=setTimeout(()=>{mediaSize();},200);});}};})(Drupal,drupalSettings,once);;
((Drupal,once)=>{const closeMessage=(message)=>{const messageContainer=message.querySelector('[data-drupal-selector="messages-container"]');const closeBtnWrapper=document.createElement('div');closeBtnWrapper.setAttribute('class','messages__button');const closeBtn=document.createElement('button');closeBtn.setAttribute('type','button');closeBtn.setAttribute('class','messages__close');const closeBtnText=document.createElement('span');closeBtnText.setAttribute('class','visually-hidden');closeBtnText.innerText=Drupal.t('Close message');messageContainer.appendChild(closeBtnWrapper);closeBtnWrapper.appendChild(closeBtn);closeBtn.appendChild(closeBtnText);closeBtn.addEventListener('click',()=>{message.classList.add('hidden');});};Drupal.behaviors.soloMessages={attach(context){once('messages','[data-drupal-selector="messages"]',context).forEach(closeMessage);}};Drupal.solo.closeMessage=closeMessage;})(Drupal,once);;
((Drupal,drupalSettings,once)=>{'use strict';document.addEventListener('DOMContentLoaded',()=>{const handleFocus=(event)=>{const element=event.target;const tagName=element.tagName.toLowerCase();const id=element.id?`#${element.id}`:'';const className=element.className?`.${element.className.split(' ').join('.')}`:'';};const focusableElements=document.querySelectorAll('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])');focusableElements.forEach((element)=>{element.addEventListener('focus',handleFocus);});});const mainSideNav=document.getElementById('primary-sidebar-menu');const searchBlock=document.getElementById('fixed-search-block');const openSearchButtons=document.querySelectorAll('.search-button-open>button');const closeSearchButton=document.querySelector('.search-button-close>button');const searchBlockCloseOpen=(elements,callback)=>{elements.forEach((element)=>{if(element)element.addEventListener('click',callback);});};const setAriaAttributes=(isOpen)=>{openSearchButtons.forEach((btn)=>btn.setAttribute('aria-expanded',isOpen?'true':'false'));closeSearchButton?.setAttribute('aria-expanded',isOpen?'true':'false');searchBlock.setAttribute('aria-hidden',isOpen?'false':'true');};const setTabindexOnElements=(isOpen)=>{const elements=searchBlock.querySelectorAll('button, input');elements.forEach((element)=>{if(isOpen)element.removeAttribute('tabindex');else element.setAttribute('tabindex','-1');});};const focusFirstInput=()=>{const firstInput=searchBlock.querySelector('input');if(firstInput)firstInput.focus();};const focusTrap=(event)=>{const elements=Array.from(searchBlock.querySelectorAll('button, input'));const lastElement=elements[elements.length-1];if(event.target===lastElement&&event.key==='Tab'&&!event.shiftKey){event.preventDefault();closeSearchButton.focus();}};const searchBlockToggle=(isOpen)=>{setAriaAttributes(isOpen);setTabindexOnElements(isOpen);if(isOpen){searchBlock.classList.add('toggled');searchBlock.style.height='auto';const height=searchBlock.clientHeight+'px';searchBlock.style.height='0px';setTimeout(()=>{searchBlock.style.height=height;},10);if(mainSideNav)Drupal.solo.sideMenubarToggleNav(false);focusFirstInput();}else{searchBlock.style.height='0px';searchBlock.addEventListener('transitionend',(event)=>{if(event.propertyName==='height'&&event.target===searchBlock)searchBlock.classList.remove('toggled');},{once:true});}};if(searchBlock){Drupal.solo.searchBlockToggle=searchBlockToggle;Drupal.behaviors.soloFixedSearchBlock={attach:function(context,settings){searchBlockCloseOpen([closeSearchButton],()=>searchBlockToggle(false));searchBlockCloseOpen(openSearchButtons,()=>searchBlockToggle(true));searchBlock.addEventListener('keydown',focusTrap);document.addEventListener('click',(event)=>{if(searchBlock&&searchBlock.classList.contains('toggled'))if(!searchBlock.contains(event.target)&&!event.target.closest('.search-button-open'))searchBlockToggle(false);});searchBlockToggle(false);}};}})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';Drupal.behaviors.soloFixedLoginBlock={attach:function(settings){const loginBlock=document.getElementById('popup-login-block');const openBlock=document.querySelector('.login-button-open>button');const closeBlock=document.querySelector('.login-button-close>button');const setTabindexOnElements=(isOpen)=>{const elements=loginBlock.querySelectorAll('button, input');elements.forEach((element)=>{if(isOpen)element.removeAttribute('tabindex');else element.setAttribute('tabindex','-1');});};const focusFirstInput=()=>{const firstInput=loginBlock.querySelector('input');if(firstInput)firstInput.focus();};const focusTrap=(event)=>{const elements=Array.from(loginBlock.querySelectorAll('button, input'));const lastElement=elements[elements.length-1];if(event.target===lastElement&&event.key==='Tab'&&!event.shiftKey){event.preventDefault();closeBlock.focus();}};if(loginBlock){const toggleAriaAttributes=(isOpen)=>{openBlock?.setAttribute('aria-expanded',isOpen.toString());closeBlock?.setAttribute('aria-expanded',isOpen.toString());loginBlock.setAttribute('aria-hidden',(!isOpen).toString());setTabindexOnElements(isOpen);};const closeBlockHandler=()=>{loginBlock.style.display='none';loginBlock.classList.remove('toggled');toggleAriaAttributes(false);};const openBlockHandler=()=>{loginBlock.style.display='block';loginBlock.classList.add('toggled');toggleAriaAttributes(true);focusFirstInput();};closeBlock?.addEventListener('click',closeBlockHandler);openBlock?.addEventListener('click',openBlockHandler);loginBlock.addEventListener('keydown',focusTrap);document.addEventListener('click',(event)=>{if(!loginBlock.contains(event.target)&&!event.target.closest('.login-button-open'))closeBlockHandler();},true);closeBlockHandler();}}};})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';Drupal.behaviors.globalMenu={attach:function(context,settings){if(context===document){const mainNavigation=document.querySelector('#primary-menu');let origOffsetY;if(mainNavigation&&mainNavigation.querySelector('.solo-inner .navigation__menubar')){origOffsetY=mainNavigation.offsetTop;const scrollWindow=()=>{let scrollStarted=false;return ()=>{if(!scrollStarted){origOffsetY=mainNavigation.offsetTop;scrollStarted=true;}mainNavigation.classList.toggle('solo-sticky',window.scrollY>origOffsetY);};};window.addEventListener('scroll',scrollWindow());window.addEventListener('resize',()=>{origOffsetY=mainNavigation.offsetTop;});}const siteSubMenus=document.querySelectorAll('.solo-inner nav .navigation__menubar ul',context);siteSubMenus.forEach((el)=>{const getParentBg=(el)=>{const closestParent=el.closest('.page-wrapper>div')??el.closest('.page-wrapper>header');return closestParent?window.getComputedStyle(closestParent).backgroundColor:'';};el.style.backgroundColor=getParentBg(el);});}}};})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';let isClicked=false;let currentWidth;let currentLayout;let previousLayout=Drupal.solo.getLayout();const brNum=Drupal.solo.getBreakpointNumber('mn');Drupal.behaviors.menuAction={attach:function(context,settings){const querySelectorElements=(selector)=>context.querySelectorAll(selector)??null;const siteMenuBars=querySelectorElements('.solo-inner .solo-menu .navigation__menubar');const siteSubMenus=querySelectorElements('.solo-inner .solo-menu .navigation__menubar ul');const svgIcons=querySelectorElements('.solo-inner .solo-menu .navigation__menubar .toggler-icon>svg');const mmClickBig=querySelectorElements('.solo-inner .solo-menu.navigation-responsive-click .navigation__megamenu>li>.dropdown-toggler');const mmClickSmall=querySelectorElements('.solo-inner .solo-menu.navigation-responsive-click .navigation__megamenu li .dropdown-toggler');const mmHoverSmall=querySelectorElements('.solo-inner .solo-menu.navigation-responsive-hover .navigation__megamenu li .dropdown-toggler');const navigationMegamenuHover=querySelectorElements('.solo-inner .solo-menu.navigation-responsive-hover .navigation__megamenu li .dropdown-toggler');const navigationResponsiveHover=querySelectorElements('.solo-inner .solo-menu.navigation-responsive-hover .navigation__menubar:not(.navigation__megamenu) .dropdown-toggler');const navigationResponsiveClick=querySelectorElements('.solo-inner .solo-menu.navigation-responsive-click .navigation__menubar:not(.navigation__megamenu) .dropdown-toggler');const navigationDefault=querySelectorElements('.solo-inner .solo-menu .navigation__default .dropdown-toggler');const navigationSidebarHover=querySelectorElements('.solo-inner .solo-menu.navigation-sidebar-hover li .dropdown-toggler');const navigationSidebarClick=querySelectorElements('.solo-inner .solo-menu.navigation-sidebar-click li .dropdown-toggler');const getCurrentWidth=()=>window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;currentWidth=getCurrentWidth();const delay=(duration)=>new Promise((resolve)=>setTimeout(resolve,duration));const clickedHandler=async(callback)=>{if(!isClicked){isClicked=true;await callback();await delay(500);isClicked=false;}};Drupal.solo.clickedHandler=clickedHandler;const hideSubMenus=(subMenu)=>{Drupal.solo.slideUp(subMenu,300);subMenu.setAttribute('aria-hidden','true');const toggler=subMenu.previousElementSibling;if(toggler&&toggler.classList.contains('dropdown-toggler'))toggler.setAttribute('aria-expanded','false');};Drupal.solo.hideSubMenus=hideSubMenus;const getNavigationMenubarClass=(menuBar)=>{return document.querySelector(`.solo-inner #${menuBar} .navigation__menubar`);};Drupal.solo.getNavigationMenubarClass=getNavigationMenubarClass;const getSubMenuClasses=(subMenus)=>{return document.querySelectorAll(`.solo-inner #${subMenus} .navigation__menubar ul.sub__menu`);};Drupal.solo.getSubMenuClasses=getSubMenuClasses;const hasParentWithClass=(element,className)=>!!element.closest(`.${className}`);const getNavTagId=(dropdownTogglerButton)=>{const {id:navId}=dropdownTogglerButton.closest('nav');return navId;};const getRotated=(dropdownTogglerButton)=>{return dropdownTogglerButton.querySelector('.toggler-icon svg');};const getArrowDirection=(verticalNav)=>{const isRtl=document.documentElement.dir==='rtl';const isExpandLeft=document.querySelector('#primary-menu .expand-left')!==null;const shouldRotate=currentWidth>=brNum&&!verticalNav;if(!shouldRotate)return 'rotate(180deg)';if(!isRtl&&!isExpandLeft)return 'rotate(-90deg)';if(!isRtl&&isExpandLeft)return 'rotate(90deg)';if(isRtl&&!isExpandLeft)return 'rotate(90deg)';if(isRtl&&isExpandLeft)return 'rotate(-90deg)';};const revertIcons=(navId)=>{let svgIcons=document.querySelectorAll(`.solo-inner #${navId} .toggler-icon svg`);svgIcons.forEach((svgIcon)=>{svgIcon.style.removeProperty('transform');});};Drupal.solo.revertIcons=revertIcons;const removesiteMenuBarsStyles=(siteMenuBars)=>{siteMenuBars.forEach((siteMenuBar)=>{siteMenuBar.removeAttribute('style');});};const getDropdownElements=(dropdownTogglerButton)=>{const togglerSibling=dropdownTogglerButton.closest('.solo-inner .solo-menu ul');const nestedSubMenus=[...togglerSibling.querySelectorAll(':scope > li > ul.sub__menu')];const nestedTogglers=[...togglerSibling.querySelectorAll(':scope > li > button.dropdown-toggler svg')];return [nestedSubMenus,nestedTogglers];};const setSubMenuAttributes=(element,attributes)=>{for(const key in attributes)element.setAttribute(key,attributes[key]);};const closeMenuHelper=(rotated,dropdownTogglerButton,subMenu)=>{rotated.style.removeProperty('transform');setSubMenuAttributes(dropdownTogglerButton,{'aria-expanded':'false'});Drupal.solo.slideUp(subMenu,400);};const openMenuHelper=(dropdownTogglerButton,subMenu)=>{currentWidth=getCurrentWidth();if(subMenu.classList.contains('sub-mega')&&currentWidth>=brNum)Drupal.solo.slideDown(subMenu,'grid',1000);else Drupal.solo.slideDown(subMenu);setSubMenuAttributes(dropdownTogglerButton,{'aria-expanded':'true'});};const resetSubMenus=(siteSubMenus,svgIcons)=>{svgIcons.forEach((el)=>el.style.removeProperty('transform'));siteSubMenus.forEach((el)=>Drupal.solo.slideUp(el,500));setTimeout(()=>{siteSubMenus.forEach((el)=>el.style.removeProperty('transform'));},550);};const resetSpecificSubMenus=(specificSubMenus,specificSvgIcons)=>{specificSvgIcons.forEach((el)=>el.style.removeProperty('transform'));specificSubMenus.forEach((el)=>Drupal.solo.slideUp(el,500));setTimeout(()=>{specificSubMenus.forEach((el)=>el.style.removeProperty('transform'));},550);};const closeSubMenusOnClick=()=>{const navMenus=['.solo-inner .solo-menu.navigation-responsive-click .navigation__menubar','#primary-sidebar-menu .navigation__menubar'];document.addEventListener('click',(event)=>{clickedHandler(()=>{let isInsideSpecifiedNavMenu=false;navMenus.forEach((selector)=>{if(event.target.closest(selector))isInsideSpecifiedNavMenu=true;});if(!isInsideSpecifiedNavMenu){const specificNavMenus=document.querySelectorAll(navMenus.join(', '));const specificSubMenus=[];const specificSvgIcons=[];specificNavMenus.forEach((menu)=>{specificSubMenus.push(...menu.querySelectorAll('ul.navigation__menubar ul'));specificSvgIcons.push(...menu.querySelectorAll('.toggler-icon svg'));});resetSpecificSubMenus(specificSubMenus,specificSvgIcons);}});});};const openMenubar=(dropdownTogglerButton,subMenu)=>{const navTagId=getNavTagId(dropdownTogglerButton);const subMenuClasses=getSubMenuClasses(navTagId);const rotated=getRotated(dropdownTogglerButton);subMenuClasses?.forEach((subMenuClass)=>{if(subMenuClass!==subMenu){hideSubMenus(subMenuClass);revertIcons(navTagId);}});rotated.style.transform='rotate(180deg)';openMenuHelper(dropdownTogglerButton,subMenu);};const closeMenubar=(dropdownTogglerButton,subMenu)=>{const navTagId=getNavTagId(dropdownTogglerButton);const subMenuClasses=getSubMenuClasses(navTagId);const rotated=getRotated(dropdownTogglerButton);subMenuClasses?.forEach((subMenuClass)=>{hideSubMenus(subMenuClass);revertIcons(navTagId);});closeMenuHelper(rotated,dropdownTogglerButton,subMenu);};const openSubMenu=(dropdownTogglerButton,subMenu)=>{const [nestedSubMenus,nestedTogglers]=getDropdownElements(dropdownTogglerButton);const rotated=getRotated(dropdownTogglerButton);const verticalNav=subMenu.closest('.navigation-sidebar');nestedSubMenus.forEach((nestedSubMenu)=>{if(nestedSubMenu!==subMenu)hideSubMenus(nestedSubMenu);});nestedTogglers.forEach((nestedToggler)=>{if(nestedToggler!==dropdownTogglerButton)nestedToggler.style.removeProperty('transform');});let arrowDirection=getArrowDirection(verticalNav);rotated.style.transform=arrowDirection;openMenuHelper(dropdownTogglerButton,subMenu);};const closeSubMenu=(dropdownTogglerButton,subMenu)=>{const rotated=getRotated(dropdownTogglerButton);closeMenuHelper(rotated,dropdownTogglerButton,subMenu);const parentLi=dropdownTogglerButton.closest('li.has-sub__menu');if(parentLi)parentLi.classList.remove('submenu-flipped-left','submenu-flipped-right');if(subMenu&&subMenu.dataset.flipped)delete subMenu.dataset.flipped;const nestedSubMenus=subMenu.querySelectorAll('ul.sub__menu');const nestedTogglers=subMenu.querySelectorAll('button.dropdown-toggler');nestedSubMenus.forEach((nested)=>{Drupal.solo.slideUp(nested,400);nested.classList.remove('toggled');});nestedTogglers.forEach((toggler)=>{const icon=toggler.querySelector('.toggler-icon svg');if(icon)icon.style.removeProperty('transform');toggler.setAttribute('aria-expanded','false');});};const dropdownTogglerButtonIsClicked=(dropdownTogglerButton,subMenu)=>{clickedHandler(()=>{let isClassPresent=dropdownTogglerButton.parentElement.classList.contains('nav__menubar-item');if(isClassPresent)if(!subMenu.classList.contains('toggled'))openMenubar(dropdownTogglerButton,subMenu);else closeMenubar(dropdownTogglerButton,subMenu);else if(!subMenu.classList.contains('toggled'))openSubMenu(dropdownTogglerButton,subMenu);else closeSubMenu(dropdownTogglerButton,subMenu);});};const addHoverFunctionality=()=>{if(window.innerWidth<brNum)return;if(document.querySelector('.navigation-responsive-hover')){const menuItems=document.querySelectorAll('.navigation-responsive-hover li.has-sub__menu');menuItems.forEach((item)=>{if(!item.hasAttribute('data-hover-added')){const toggler=item.querySelector(':scope > button.dropdown-toggler');const subMenu=item.querySelector(':scope > ul');if(toggler&&subMenu){item.addEventListener('mouseenter',()=>{toggler.setAttribute('aria-expanded','true');subMenu.setAttribute('aria-hidden','false');});item.addEventListener('mouseleave',()=>{toggler.setAttribute('aria-expanded','false');subMenu.setAttribute('aria-hidden','true');});}item.setAttribute('data-hover-added','true');}});}};siteMenuBars.forEach((siteMenuBar)=>{siteMenuBar.addEventListener('click',(event)=>{const sideMenu=('navigation-sidebar');if(hasParentWithClass(siteMenuBar,sideMenu)||currentWidth<=brNum)siteMenuBar.classList.remove('focus-in');else siteMenuBar.classList.add('focus-in');});});function addRemoveListener(event){const button=event.currentTarget;const subMenu=button.nextElementSibling;dropdownTogglerButtonIsClicked(button,subMenu);}function addEventListenerToButtons(buttons){buttons.forEach((button)=>{button.addEventListener('click',addRemoveListener);});}function removeEventListenerToButtons(buttons){buttons.forEach((button)=>{button.removeEventListener('click',addRemoveListener);});}function menusHelper(currentWidth){const mmClickSmall=document.querySelectorAll('.solo-inner .solo-menu.navigation-responsive-click .navigation__megamenu li .dropdown-toggler');const mmClickBig=document.querySelectorAll('.solo-inner .solo-menu.navigation-responsive-click .navigation__megamenu > li > .dropdown-toggler');const mmHoverSmall=document.querySelectorAll('.solo-inner .solo-menu.navigation-responsive-hover .navigation__megamenu li .dropdown-toggler');const navigationSidebarHover=document.querySelectorAll('.solo-inner .solo-menu.navigation-sidebar-hover li .dropdown-toggler');const navigationResponsiveHover=document.querySelectorAll('.solo-inner .solo-menu.navigation-responsive-hover .navigation__menubar:not(.navigation__megamenu) .dropdown-toggler');const largeScreenActions=[{remove:mmClickSmall,add:mmClickBig},{remove:mmHoverSmall,add:null},{remove:navigationSidebarHover,add:null},{remove:navigationResponsiveHover,add:null}];const smallScreenActions=[{remove:mmClickBig,add:mmClickSmall},{remove:null,add:mmHoverSmall},{remove:null,add:navigationSidebarHover},{remove:null,add:navigationResponsiveHover}];removesiteMenuBarsStyles(siteMenuBars);const actions=currentWidth>=brNum?largeScreenActions:smallScreenActions;actions.forEach(({remove,add})=>{if(remove)removeEventListenerToButtons(remove);if(add)addEventListenerToButtons(add);});}const currentPath=window.location.pathname;const links=document.querySelectorAll('.views-page .navigation__menubar li a');if(links)links.forEach((link)=>{if(link.getAttribute('href')===currentPath){let currentElement=link;while(currentElement&&!currentElement.matches('ul.navigation__menubar')){if(currentElement.tagName==='LI')currentElement.classList.add('is-active');currentElement=currentElement.parentElement;}}});addHoverFunctionality();addEventListenerToButtons(navigationDefault);addEventListenerToButtons(navigationResponsiveClick);addEventListenerToButtons(navigationSidebarClick);currentWidth=getCurrentWidth();menusHelper(currentWidth);window.addEventListener('resize',()=>{currentLayout=Drupal.solo.getLayout();currentWidth=getCurrentWidth();if(previousLayout!=currentLayout){menusHelper(currentWidth);resetSubMenus(siteSubMenus,svgIcons);previousLayout=currentLayout;}addHoverFunctionality();});closeSubMenusOnClick();}};})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';Drupal.behaviors.soloMenuFix={attach:function(context){const breakpoint=Drupal.solo.getBreakpointNumber('mn');const windowWidth=window.innerWidth;if(windowWidth<breakpoint)return;function getWindowWidth(){return window.innerWidth;}function getLiWidth(li){return li.offsetWidth;}function getLiPosition(li){return li.getBoundingClientRect();}function getSubmenuWidth(submenu){return submenu.offsetWidth;}function getSubmenuPosition(submenu){return submenu.getBoundingClientRect();}function getSpaceLeft(liRect){return liRect.left;}function getSpaceRight(liRect,windowWidth){return windowWidth-liRect.right;}function adjustSecondLevelSubmenu(li){const windowWidth=getWindowWidth();if(windowWidth<breakpoint)return;const submenu=li.querySelector(':scope > .sub__menu');if(!submenu)return;submenu.style.visibility='hidden';const liRect=getLiPosition(li);const submenuWidth=getSubmenuWidth(submenu);const spaceLeft=getSpaceLeft(liRect);const spaceRight=getSpaceRight(liRect,windowWidth);if(submenuWidth+30>spaceRight){submenu.style.left='auto';submenu.style.right='0';}else if(submenuWidth+30>spaceLeft){submenu.style.right='auto';submenu.style.left='0';}else{submenu.style.left='';submenu.style.right='';}submenu.style.visibility='visible';}function adjustThirdLevelSubmenu(li){const windowWidth=getWindowWidth();if(windowWidth<breakpoint)return;const submenu=li.querySelector(':scope > .sub__menu');if(!submenu)return;const parentLi=li.closest('li.has-sub__menu');if(!parentLi)return;submenu.style.visibility='hidden';const parentRect=getLiPosition(parentLi);const submenuWidth=getSubmenuWidth(submenu);const spaceLeft=getSpaceLeft(parentRect);const spaceRight=getSpaceRight(parentRect,windowWidth);const fourthLevelLi=submenu.querySelector('li.has-sub__menu');let fourthLevelWidth=0;if(fourthLevelLi){const fourthSubmenu=fourthLevelLi.querySelector(':scope > .sub__menu');if(fourthSubmenu){const originalDisplay=fourthSubmenu.style.display;fourthSubmenu.style.visibility='hidden';fourthSubmenu.style.display='block';fourthLevelWidth=getSubmenuWidth(fourthSubmenu);fourthSubmenu.style.display=originalDisplay;fourthSubmenu.style.visibility='';}}const totalNeededWidth=submenuWidth+fourthLevelWidth+30;if(totalNeededWidth>spaceRight&&spaceLeft>spaceRight){submenu.style.left='auto';submenu.style.right='100%';submenu.dataset.flipped='left';li.classList.add('submenu-flipped-left');li.classList.remove('submenu-flipped-right');}else if(submenuWidth+30>spaceLeft){submenu.style.right='auto';submenu.style.left='100%';submenu.dataset.flipped='right';li.classList.add('submenu-flipped-right');li.classList.remove('submenu-flipped-left');}else{submenu.style.left='';submenu.style.right='';}submenu.style.visibility='visible';}function adjustFourthLevelSubmenu(li){const windowWidth=getWindowWidth();if(windowWidth<breakpoint)return;const submenu=li.querySelector(':scope > .sub__menu');if(!submenu)return;const parentLi=li.closest('ul.sub__menu').closest('li.has-sub__menu');if(!parentLi)return;const parentSubmenu=parentLi.querySelector(':scope > .sub__menu');if(!parentSubmenu)return;submenu.style.visibility='hidden';const isParentFlippedLeft=parentSubmenu.dataset.flipped==='left';if(isParentFlippedLeft){submenu.style.left='auto';submenu.style.right='100%';}else{submenu.style.right='auto';submenu.style.left='100%';}submenu.style.visibility='visible';}function applySubmenuFix(menuSelector,adjustFunction){once('soloMenuFix',document.querySelectorAll(menuSelector,context)).forEach((li)=>{['mouseenter','click'].forEach((eventType)=>{li.addEventListener(eventType,function(){adjustFunction(this);});});});}applySubmenuFix('.primary-menu .navigation__primary > li.has-sub__menu',adjustSecondLevelSubmenu);applySubmenuFix('.primary-menu .navigation__primary > li.has-sub__menu > ul > li.has-sub__menu',adjustThirdLevelSubmenu);applySubmenuFix('.primary-menu .navigation__primary > li.has-sub__menu > ul > li.has-sub__menu > ul > li.has-sub__menu',adjustFourthLevelSubmenu);function handleResize(){if(window.innerWidth>=breakpoint){applySubmenuFix('.primary-menu .navigation__primary > li.has-sub__menu',adjustSecondLevelSubmenu);applySubmenuFix('.primary-menu .navigation__primary > li.has-sub__menu > ul > li.has-sub__menu',adjustThirdLevelSubmenu);applySubmenuFix('.primary-menu .navigation__primary > li.has-sub__menu > ul > li.has-sub__menu > ul > li.has-sub__menu',adjustFourthLevelSubmenu);}}window.addEventListener('resize',handleResize);}};})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';let currentWidth;let currentLayout=Drupal.solo.getLayout();let previousLayout=currentLayout;const hamburgerIconButtons=document.querySelectorAll('.solo-inner .navigation-responsive .mobile-nav button');const brNum=Drupal.solo.getBreakpointNumber('mn');const getCurrentWidth=()=>window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;const updateFirstLevelTabindex=(menuElement,tabindexValue)=>{const firstLevelItems=menuElement.querySelectorAll('ul.navigation__responsive > li.nav__menubar-item > a, ul.navigation__responsive > li.nav__menubar-item > button');firstLevelItems.forEach((item)=>{item.setAttribute('tabindex',tabindexValue);});};const updateAriaHidden=(menuElement,hiddenValue)=>{menuElement.setAttribute('aria-hidden',hiddenValue);};const openMobileMenu=(navTagId)=>{const navigationMenubarClass=Drupal.solo.getNavigationMenubarClass(navTagId);const subMenuClasses=Drupal.solo.getSubMenuClasses(navTagId);subMenuClasses?.forEach((subMenu)=>{Drupal.solo.hideSubMenus(subMenu);Drupal.solo.revertIcons(navTagId);});Drupal.solo.slideDown(navigationMenubarClass);const menuElement=document.getElementById(navTagId);if(menuElement){updateAriaHidden(menuElement,'false');updateFirstLevelTabindex(menuElement,'0');}};const closeMobileMenu=(navTagId)=>{const navigationMenubarClass=Drupal.solo.getNavigationMenubarClass(navTagId);const subMenuClasses=Drupal.solo.getSubMenuClasses(navTagId);subMenuClasses?.forEach((subMenu)=>{Drupal.solo.hideSubMenus(subMenu);Drupal.solo.revertIcons(navTagId);});Drupal.solo.slideUp(navigationMenubarClass,400);const menuElement=document.getElementById(navTagId);if(menuElement){updateAriaHidden(menuElement,'true');updateFirstLevelTabindex(menuElement,'-1');}};const getMobileNavType=(hamburgerIcon)=>{const hamburgerIconChild=hamburgerIcon;const navTagId=hamburgerIcon.closest('nav').id;const menuElement=document.getElementById(navTagId);return [hamburgerIconChild,navTagId,menuElement];};const hamburgerIconIsClicked=(hamburgerIcon)=>{const [hamburgerIconChild,navTagId]=getMobileNavType(hamburgerIcon);if(!hamburgerIcon.classList.contains('toggled')){hamburgerIconChild.setAttribute('aria-expanded','true');hamburgerIcon.classList.add('toggled');openMobileMenu(navTagId);}else{hamburgerIconChild.setAttribute('aria-expanded','false');hamburgerIcon.classList.remove('toggled');closeMobileMenu(navTagId);}};const addAriaControlToButton=(hamburgerIcon)=>{const [hamburgerIconChild,navTagId]=getMobileNavType(hamburgerIcon);const ariaControl=document.querySelector(`#${navTagId} .navigation__responsive`)?.getAttribute('id');if(currentWidth<=brNum)hamburgerIconChild.setAttribute('aria-controls',ariaControl);else hamburgerIconChild.removeAttribute('aria-controls');};const updateHamburgerTabindex=()=>{currentWidth=getCurrentWidth();hamburgerIconButtons.forEach((button)=>{button.setAttribute('tabindex',currentWidth<=brNum?'0':'-1');});};const updateTabindexForLargeScreens=()=>{if(currentWidth>brNum){const menuElement=document.querySelector('.navigation__responsive');if(menuElement){updateFirstLevelTabindex(menuElement,'0');updateAriaHidden(menuElement,'false');}}};const closeOnResize=(hamburgerIcon)=>{const [hamburgerIconChild,navTagId]=getMobileNavType(hamburgerIcon);hamburgerIconChild.setAttribute('aria-expanded','false');hamburgerIcon.classList.remove('toggled');closeMobileMenu(navTagId);};const resetMenusOnResize=()=>{hamburgerIconButtons?.forEach((hamburgerIconButton)=>{closeOnResize(hamburgerIconButton);});};function processHamburgerIcons(hamburgerIconButtons){hamburgerIconButtons.forEach((hamburgerIcon)=>{addAriaControlToButton(hamburgerIcon);});}hamburgerIconButtons.forEach((hamburgerIcon)=>{hamburgerIcon.addEventListener('click',()=>{Drupal.solo.clickedHandler(()=>{hamburgerIconIsClicked(hamburgerIcon);});});});Drupal.behaviors.mobileMenu={attach:function(){updateHamburgerTabindex();updateTabindexForLargeScreens();processHamburgerIcons(hamburgerIconButtons);window.addEventListener('resize',()=>{currentWidth=getCurrentWidth();const isSmallScreen=currentWidth<=brNum;currentLayout=Drupal.solo.getLayout();if(isSmallScreen&&previousLayout!==currentLayout){resetMenusOnResize();previousLayout=currentLayout;}processHamburgerIcons(hamburgerIconButtons);updateHamburgerTabindex();updateTabindexForLargeScreens();});}};})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';const verticalNav=document.getElementById('primary-sidebar-menu');if(verticalNav){const closeBtns=document.querySelectorAll('.sidebar-button-close>button');const openBtns=document.querySelectorAll('.sidebar-button-open>button');const firstLevelSelector='#primary-sidebar-menu .nav__menubar-item > a, #primary-sidebar-menu .nav__menubar-item > button';const sideMenubarCloseOpen=(buttons,callback)=>{buttons.forEach((button)=>{if(button)button.addEventListener('click',callback);});};const setAriaExpanded=(buttons,isOpen)=>{buttons.forEach((button)=>{button.setAttribute('aria-expanded',isOpen?'true':'false');});};const setAriaHidden=(element,isHidden)=>{element.setAttribute('aria-hidden',isHidden?'true':'false');};const focusFirstInteractiveElement=()=>{const firstInteractiveElement=verticalNav.querySelector(firstLevelSelector);if(firstInteractiveElement)firstInteractiveElement.focus();};const updateTabindex=(isOpen)=>{const firstLevelItems=verticalNav.querySelectorAll(firstLevelSelector);firstLevelItems.forEach((item)=>{item.setAttribute('tabindex',isOpen?'0':'-1');});closeBtns.forEach((button)=>{button.setAttribute('tabindex',isOpen?'0':'-1');});};const trapFocus=(event)=>{const focusableElements=Array.from(verticalNav.querySelectorAll(firstLevelSelector)).filter((el)=>el.getAttribute('tabindex')==='0');const currentIndex=focusableElements.indexOf(document.activeElement);let nextIndex;if(event.key==='Tab'){if(event.shiftKey)nextIndex=currentIndex>0?currentIndex-1:focusableElements.length-1;else nextIndex=currentIndex<focusableElements.length-1?currentIndex+1:0;event.preventDefault();focusableElements[nextIndex].focus();}};const sideMenubarToggleNav=(isOpen)=>{setAriaExpanded(closeBtns,isOpen);setAriaExpanded(openBtns,isOpen);setAriaHidden(verticalNav,!isOpen);updateTabindex(isOpen);if(isOpen){verticalNav.classList.add('toggled');focusFirstInteractiveElement();document.addEventListener('keydown',trapFocus);}else{verticalNav.classList.remove('toggled');const subMenus=verticalNav.querySelectorAll('.navigation__sidebar li ul.sub__menu');subMenus?.forEach(Drupal.solo.hideSubMenus);document.removeEventListener('keydown',trapFocus);}};Drupal.solo.sideMenubarToggleNav=sideMenubarToggleNav;function addOutsideClickListener(enable){if(enable===true)document.addEventListener('click',outsideClickListener);else document.removeEventListener('click',outsideClickListener);}function outsideClickListener(event){if(verticalNav&&!verticalNav.contains(event.target)&&!event.target.closest('.sidebar-button-open'))sideMenubarToggleNav(false);}Drupal.solo.addOutsideClickListener=addOutsideClickListener;Drupal.behaviors.soloPrimarySideMenu={attach:function(context,settings){sideMenubarCloseOpen(closeBtns,()=>sideMenubarToggleNav(false));sideMenubarCloseOpen(openBtns,()=>sideMenubarToggleNav(true));Drupal.solo.addOutsideClickListener(true);const verticalNav=document.querySelector('.vertical-nav');if(verticalNav)if(verticalNav.classList.contains('toggled'))updateTabindex(true);else updateTabindex(false);}};}})(Drupal,drupalSettings,once);;
((Drupal,once)=>{'use strict';Drupal.behaviors.soloSearchBlock={attach:function(context){const contentTypes=drupalSettings?.solo?.searchContentTypes;if(contentTypes&&Object.keys(contentTypes).length>0){const searchBlockForms=once('solo-search-block','.solo-search-block-form',context);searchBlockForms.forEach((searchBlockForm)=>{searchBlockForm.addEventListener('submit',function(event){event.preventDefault();const searchInput=searchBlockForm.querySelector('input[name="keys"]').value;let actionUrl=`/search/node?keys=${encodeURIComponent(searchInput)}`;Object.entries(contentTypes).forEach(([key,value],index)=>{const filterKey=`f[${index}]`;const filterValue=`type:${value}`;actionUrl+=`&${encodeURIComponent(filterKey)}=${encodeURIComponent(filterValue)}`;});if(!actionUrl.includes('advanced-form=1'))actionUrl+=`&advanced-form=1`;window.location.href=actionUrl;});});}}};})(Drupal,once);;
(function($,Drupal,debounce){const cache={right:0,left:0,bottom:0,top:0};const cssVarPrefix='--drupal-displace-offset';const documentStyle=document.documentElement.style;const offsetKeys=Object.keys(cache);const offsetProps={};offsetKeys.forEach((edge)=>{offsetProps[edge]={enumerable:true,get(){return cache[edge];},set(value){if(value!==cache[edge])documentStyle.setProperty(`${cssVarPrefix}-${edge}`,`${value}px`);cache[edge]=value;}};});const offsets=Object.seal(Object.defineProperties({},offsetProps));function getRawOffset(el,edge){const $el=$(el);const documentElement=document.documentElement;let displacement=0;const horizontal=edge==='left'||edge==='right';let placement=$el.offset()[horizontal?'left':'top'];placement-=window[`scroll${horizontal?'X':'Y'}`]||document.documentElement[`scroll${horizontal?'Left':'Top'}`]||0;switch(edge){case 'top':displacement=placement+$el.outerHeight();break;case 'left':displacement=placement+$el.outerWidth();break;case 'bottom':displacement=documentElement.clientHeight-placement;break;case 'right':displacement=documentElement.clientWidth-placement;break;default:displacement=0;}return displacement;}function calculateOffset(edge){let edgeOffset=0;const displacingElements=document.querySelectorAll(`[data-offset-${edge}]`);const n=displacingElements.length;for(let i=0;i<n;i++){const el=displacingElements[i];if(el.style.display==='none')continue;let displacement=parseInt(el.getAttribute(`data-offset-${edge}`),10);if(isNaN(displacement))displacement=getRawOffset(el,edge);edgeOffset=Math.max(edgeOffset,displacement);}return edgeOffset;}function displace(broadcast=true){const newOffsets={};offsetKeys.forEach((edge)=>{newOffsets[edge]=calculateOffset(edge);});offsetKeys.forEach((edge)=>{offsets[edge]=newOffsets[edge];});if(broadcast)$(document).trigger('drupalViewportOffsetChange',offsets);return offsets;}Drupal.behaviors.drupalDisplace={attach(){if(this.displaceProcessed)return;this.displaceProcessed=true;$(window).on('resize.drupalDisplace',debounce(displace,200));}};Drupal.displace=displace;Object.defineProperty(Drupal.displace,'offsets',{value:offsets,writable:false});Drupal.displace.calculateOffset=calculateOffset;})(jQuery,Drupal,Drupal.debounce);;
(function($,Drupal,drupalSettings){let activeItem=Drupal.url(drupalSettings.path.currentPath);$.fn.drupalToolbarMenuHorizontal=function(){let currentPath=drupalSettings.path.currentPath;const menu=once('toolbar-menu-horizontal',this);if(menu.length){const $menu=$(menu);if(activeItem){const count=currentPath.split('/').length;for(let i=0;i<count;i++){const $menuItem=$menu.find(`a[data-drupal-link-system-path="${currentPath}"]`);if($menuItem.length!==0){$menuItem.closest('a').addClass('is-active');break;}const lastIndex=currentPath.lastIndexOf('/');currentPath=currentPath.slice(0,lastIndex);}}}};$.fn.drupalToolbarMenu=function(){const ui={handleOpen:Drupal.t('Extend'),handleClose:Drupal.t('Collapse')};function toggleList($item,switcher){const $toggle=$item.children('.toolbar-box').children('.toolbar-handle');switcher=typeof switcher!=='undefined'?switcher:!$item.hasClass('open');$item.toggleClass('open',switcher);$toggle.toggleClass('open',switcher);$toggle.find('.action').each((index,element)=>{element.textContent=switcher?ui.handleClose:ui.handleOpen;});}function toggleClickHandler(event){const $toggle=$(event.target);const $item=$toggle.closest('li');toggleList($item);const $openItems=$item.siblings().filter('.open');toggleList($openItems,false);}function linkClickHandler(event){if(!Drupal.toolbar.models.toolbarModel.get('isFixed'))Drupal.toolbar.models.toolbarModel.set('activeTab',null);event.stopPropagation();}function initItems($menu){const options={class:'toolbar-icon toolbar-handle',action:ui.handleOpen,text:''};$menu.find('li > a').wrap('<div class="toolbar-box">');$menu.find('li').each((index,element)=>{const $item=$(element);if($item.children('ul.toolbar-menu').length){const $box=$item.children('.toolbar-box');const $link=$box.find('a');options.text=Drupal.t('@label',{'@label':$link.length?$link[0].textContent:''});$item.children('.toolbar-box').append($(Drupal.theme('toolbarMenuItemToggle',options)).hide().fadeIn(150));}});}function markListLevels($lists,level){level=!level?1:level;const $lis=$lists.children('li').addClass(`level-${level}`);$lists=$lis.children('ul');if($lists.length)markListLevels($lists,level+1);}function openActiveItem($menu){let currentPath=drupalSettings.path.currentPath;const pathItem=$menu.find(`a[href="${window.location.pathname}"]`);if(pathItem.length&&!activeItem)activeItem=window.location.pathname;if(activeItem){const $activeItem=$menu.find(`a[href="${activeItem}"]`).addClass('menu-item--active');if(pathItem.length===0&&activeItem){const count=currentPath.split('/').length;for(let i=0;i<count;i++){const $menuItem=$menu.find(`a[data-drupal-link-system-path="${currentPath}"]`);if($menuItem.length!==0){const $activeTrail=$menuItem.parentsUntil('.root','li').addClass('menu-item--active-trail');toggleList($activeTrail,true);break;}const lastIndex=currentPath.lastIndexOf('/');currentPath=currentPath.slice(0,lastIndex);}}else{const $activeTrail=$activeItem.parentsUntil('.root','li').addClass('menu-item--active-trail');toggleList($activeTrail,true);}}}return this.each(function(selector){const menu=once('toolbar-menu-vertical',this);if(menu.length){const $menu=$(menu);$menu.on('click.toolbar','.toolbar-box',toggleClickHandler).on('click.toolbar','.toolbar-box a',linkClickHandler);$menu.addClass('root');initItems($menu);markListLevels($menu);openActiveItem($menu);}});};Drupal.theme.toolbarMenuItemToggle=function(options){return `<button class="${options.class}"><span class="action">${options.action}</span> <span class="label">${options.text}</span></button>`;};})(jQuery,Drupal,drupalSettings);;
(function($,Drupal,drupalSettings){(()=>{if(!sessionStorage.getItem('Drupal.toolbar.toolbarState'))return;const toolbarState=JSON.parse(sessionStorage.getItem('Drupal.toolbar.toolbarState'));const {activeTray,orientation,isOriented}=toolbarState;const activeTrayElement=document.querySelector(`.toolbar-tray[data-toolbar-tray="${activeTray}"]`);const activeTrayToggle=document.querySelector(`.toolbar-item[data-toolbar-tray="${activeTray}"]`);if(activeTrayElement){activeTrayElement.classList.add(`toolbar-tray-${orientation}`,'is-active');activeTrayToggle.classList.add('is-active');}if(isOriented)document.querySelector('#toolbar-administration').classList.add('toolbar-oriented');})();const options=$.extend({breakpoints:{'toolbar.narrow':'','toolbar.standard':'','toolbar.wide':''}},drupalSettings.toolbar,{strings:{horizontal:Drupal.t('Horizontal orientation'),vertical:Drupal.t('Vertical orientation')}});Drupal.behaviors.toolbar={attach(context){if(!window.matchMedia('only screen').matches)return;once('toolbar','#toolbar-administration',context).forEach((toolbar)=>{const model=new Drupal.toolbar.ToolbarModel({locked:JSON.parse(localStorage.getItem('Drupal.toolbar.trayVerticalLocked')),activeTab:document.getElementById(JSON.parse(localStorage.getItem('Drupal.toolbar.activeTabID'))),height:$('#toolbar-administration').outerHeight()});Drupal.toolbar.models.toolbarModel=model;Object.keys(options.breakpoints).forEach((label)=>{const mq=options.breakpoints[label];const mql=window.matchMedia(mq);Drupal.toolbar.mql[label]=mql;mql.addListener(Drupal.toolbar.mediaQueryChangeHandler.bind(null,model,label));Drupal.toolbar.mediaQueryChangeHandler.call(null,model,label,mql);});Drupal.toolbar.views.toolbarVisualView=new Drupal.toolbar.ToolbarVisualView({el:toolbar,model,strings:options.strings});Drupal.toolbar.views.toolbarAuralView=new Drupal.toolbar.ToolbarAuralView({el:toolbar,model,strings:options.strings});Drupal.toolbar.views.bodyVisualView=new Drupal.toolbar.BodyVisualView({el:toolbar,model});model.trigger('change:isFixed',model,model.get('isFixed'));model.trigger('change:activeTray',model,model.get('activeTray'));const menuModel=new Drupal.toolbar.MenuModel();Drupal.toolbar.models.menuModel=menuModel;Drupal.toolbar.views.menuVisualView=new Drupal.toolbar.MenuVisualView({el:$(toolbar).find('.toolbar-menu-administration').get(0),model:menuModel,strings:options.strings});Drupal.toolbar.setSubtrees.done((subtrees)=>{menuModel.set('subtrees',subtrees);const theme=drupalSettings.ajaxPageState.theme;localStorage.setItem(`Drupal.toolbar.subtrees.${theme}`,JSON.stringify(subtrees));model.set('areSubtreesLoaded',true);});Drupal.toolbar.views.toolbarVisualView.loadSubtrees();$(document).on('drupalViewportOffsetChange.toolbar',(event,offsets)=>{model.set('offsets',offsets);});model.on('change:orientation',(model,orientation)=>{$(document).trigger('drupalToolbarOrientationChange',orientation);}).on('change:activeTab',(model,tab)=>{$(document).trigger('drupalToolbarTabChange',tab);}).on('change:activeTray',(model,tray)=>{$(document).trigger('drupalToolbarTrayChange',tray);});const toolbarState=sessionStorage.getItem('Drupal.toolbar.toolbarState')?JSON.parse(sessionStorage.getItem('Drupal.toolbar.toolbarState')):{};if(Drupal.toolbar.models.toolbarModel.get('orientation')==='horizontal'&&Drupal.toolbar.models.toolbarModel.get('activeTab')===null&&!toolbarState.orientation)Drupal.toolbar.models.toolbarModel.set({activeTab:$('.toolbar-bar .toolbar-tab:not(.home-toolbar-tab) a').get(0)});window.addEventListener('dialog:aftercreate',(e)=>{const $element=$(e.target);const {settings}=e;const toolbarBar=document.getElementById('toolbar-bar');if(toolbarBar){toolbarBar.style.marginTop='0';if(settings.drupalOffCanvasPosition==='top'){const height=Drupal.offCanvas.getContainer($element).outerHeight();toolbarBar.style.marginTop=`${height}px`;$element.on('dialogContentResize.off-canvas',()=>{const newHeight=Drupal.offCanvas.getContainer($element).outerHeight();toolbarBar.style.marginTop=`${newHeight}px`;});}}});window.addEventListener('dialog:beforeclose',()=>{const toolbarBar=document.getElementById('toolbar-bar');if(toolbarBar)toolbarBar.style.marginTop='0';});});if(once('toolbarAntiFlicker','#toolbar-administration',context).length)Drupal.toolbar.models.toolbarModel.on('change:activeTab change:orientation change:isOriented change:isTrayToggleVisible change:offsets',function(){const userButton=document.querySelector('#toolbar-item-user');const hasActiveTab=!!$(this.get('activeTab')).length>0;const previousToolbarState=sessionStorage.getItem('Drupal.toolbar.toolbarState')?JSON.parse(sessionStorage.getItem('Drupal.toolbar.toolbarState')):{};const toolbarState={...previousToolbarState,orientation:Drupal.toolbar.models.toolbarModel.get('orientation'),hasActiveTab,activeTabId:hasActiveTab?this.get('activeTab').id:null,activeTray:$(this.get('activeTab')).attr('data-toolbar-tray'),isOriented:this.get('isOriented'),isFixed:this.get('isFixed'),userButtonMinWidth:userButton?userButton.clientWidth:0};sessionStorage.setItem('Drupal.toolbar.toolbarState',JSON.stringify(toolbarState));});}};Drupal.toolbar={views:{},models:{},mql:{},setSubtrees:new $.Deferred(),mediaQueryChangeHandler(model,label,mql){switch(label){case 'toolbar.narrow':model.set({isOriented:mql.matches,isTrayToggleVisible:false});if(!mql.matches||!model.get('orientation'))model.set({orientation:'vertical'},{validate:true});break;case 'toolbar.standard':model.set({isFixed:mql.matches});break;case 'toolbar.wide':model.set({orientation:mql.matches&&!model.get('locked')?'horizontal':'vertical'},{validate:true});model.set({isTrayToggleVisible:mql.matches});break;default:break;}}};Drupal.theme.toolbarOrientationToggle=function(){return ('<div class="toolbar-toggle-orientation"><div class="toolbar-lining">'+'<button class="toolbar-icon" type="button"></button>'+'</div></div>');};Drupal.AjaxCommands.prototype.setToolbarSubtrees=function(ajax,response,status){Drupal.toolbar.setSubtrees.resolve(response.subtrees);};})(jQuery,Drupal,drupalSettings);;
(function(Backbone,Drupal){Drupal.toolbar.MenuModel=Backbone.Model.extend({defaults:{subtrees:null}});})(Backbone,Drupal);;
(function(Backbone,Drupal){Drupal.toolbar.ToolbarModel=Backbone.Model.extend({defaults:{activeTab:null,activeTray:null,isOriented:false,isFixed:false,areSubtreesLoaded:false,isViewportOverflowConstrained:false,orientation:'horizontal',locked:false,isTrayToggleVisible:true,height:null,offsets:{top:0,right:0,bottom:0,left:0}},validate(attributes,options){if(attributes.orientation==='horizontal'&&this.get('locked')&&!options.override)return Drupal.t('The toolbar cannot be set to a horizontal orientation when it is locked.');}});})(Backbone,Drupal);;
(function($,Drupal,Backbone){Drupal.toolbar.BodyVisualView=Backbone.View.extend({initialize(){this.listenTo(this.model,'change:activeTray ',this.render);this.listenTo(this.model,'change:isFixed change:isViewportOverflowConstrained',this.isToolbarFixed);},isToolbarFixed(){const isViewportOverflowConstrained=this.model.get('isViewportOverflowConstrained');$('body').toggleClass('toolbar-fixed',isViewportOverflowConstrained||this.model.get('isFixed'));},render(){$('body').toggleClass('toolbar-tray-open',!!this.model.get('activeTray'));}});})(jQuery,Drupal,Backbone);;
(function($,Backbone,Drupal){Drupal.toolbar.MenuVisualView=Backbone.View.extend({initialize(){this.listenTo(this.model,'change:subtrees',this.render);this.render();},render(){this.renderVertical();this.renderHorizontal();},renderHorizontal(){if('drupalToolbarMenu' in $.fn)this.$el.children('.toolbar-menu').drupalToolbarMenuHorizontal();},renderVertical(){const subtrees=this.model.get('subtrees');if(!this.model.get('subtrees'))return;Object.keys(subtrees||{}).forEach((id)=>{$(once('toolbar-subtrees',this.$el.find(`#toolbar-link-${id}`))).after(subtrees[id]);});if('drupalToolbarMenu' in $.fn)this.$el.children('.toolbar-menu').drupalToolbarMenu();}});})(jQuery,Backbone,Drupal);;
(function(Backbone,Drupal){Drupal.toolbar.ToolbarAuralView=Backbone.View.extend({initialize(options){this.strings=options.strings;this.listenTo(this.model,'change:orientation',this.onOrientationChange);this.listenTo(this.model,'change:activeTray',this.onActiveTrayChange);},onOrientationChange(model,orientation){Drupal.announce(Drupal.t('Tray orientation changed to @orientation.',{'@orientation':orientation}));},onActiveTrayChange(model,tray){const relevantTray=tray===null?model.previous('activeTray'):tray;if(!relevantTray)return;const action=tray===null?Drupal.t('closed'):Drupal.t('opened');const trayNameElement=relevantTray.querySelector('.toolbar-tray-name');let text;if(trayNameElement!==null)text=Drupal.t('Tray "@tray" @action.',{'@tray':trayNameElement.textContent,'@action':action});else text=Drupal.t('Tray @action.',{'@action':action});Drupal.announce(text);}});})(Backbone,Drupal);;
(function($,Drupal,drupalSettings,Backbone){Drupal.toolbar.ToolbarVisualView=Backbone.View.extend({events(){const touchEndToClick=function(event){event.preventDefault();event.target.click();};return {'click .toolbar-bar .toolbar-tab .trigger':'onTabClick','click .toolbar-toggle-orientation button':'onOrientationToggleClick','touchend .toolbar-bar .toolbar-tab .trigger':touchEndToClick,'touchend .toolbar-toggle-orientation button':touchEndToClick};},initialize(options){this.strings=options.strings;this.listenTo(this.model,'change:activeTab change:orientation change:isOriented change:isTrayToggleVisible',this.render);this.listenTo(this.model,'change:mqMatches',this.onMediaQueryChange);this.listenTo(this.model,'change:offsets',this.adjustPlacement);this.listenTo(this.model,'change:activeTab change:orientation change:isOriented',this.updateToolbarHeight);this.$el.find('.toolbar-tray .toolbar-lining').has('.toolbar-menu').append(Drupal.theme('toolbarOrientationToggle'));this.model.trigger('change:activeTab');},updateToolbarHeight(){const toolbarTabOuterHeight=$('#toolbar-bar').find('.toolbar-tab').outerHeight()||0;const toolbarTrayHorizontalOuterHeight=$('.is-active.toolbar-tray-horizontal').outerHeight()||0;this.model.set('height',toolbarTabOuterHeight+toolbarTrayHorizontalOuterHeight);$('body')[0].style.paddingTop=`${this.model.get('height')}px`;$('html')[0].style.scrollPaddingTop=`${this.model.get('height')}px`;this.triggerDisplace();},triggerDisplace(){_.defer(()=>{Drupal.displace(true);});},render(){this.updateTabs();this.updateTrayOrientation();this.updateBarAttributes();$('[data-toolbar-anti-flicker-loading]').remove();$('html').removeClass(['toolbar-loading','toolbar-horizontal','toolbar-vertical','toolbar-tray-open','toolbar-fixed','toolbar-oriented','toolbar-anti-flicker']);$('body').removeClass('toolbar-loading');if(this.model.changed.orientation==='vertical'||this.model.changed.activeTab)this.loadSubtrees();return this;},onTabClick(event){if(event.currentTarget.hasAttribute('data-toolbar-tray')){const activeTab=this.model.get('activeTab');const clickedTab=event.currentTarget;this.model.set('activeTab',!activeTab||clickedTab!==activeTab?clickedTab:null);event.preventDefault();event.stopPropagation();}},onOrientationToggleClick(event){const orientation=this.model.get('orientation');const antiOrientation=orientation==='vertical'?'horizontal':'vertical';const locked=antiOrientation==='vertical';if(locked)localStorage.setItem('Drupal.toolbar.trayVerticalLocked','true');else localStorage.removeItem('Drupal.toolbar.trayVerticalLocked');this.model.set({locked,orientation:antiOrientation},{validate:true,override:true});event.preventDefault();event.stopPropagation();},updateTabs(){const $tab=$(this.model.get('activeTab'));$(this.model.previous('activeTab')).removeClass('is-active').prop('aria-pressed',false);$(this.model.previous('activeTray')).removeClass('is-active');localStorage.removeItem('Drupal.toolbar.activeTabID');if($tab.length>0){$tab.addClass('is-active').prop('aria-pressed',true);const name=$tab.attr('data-toolbar-tray');const id=$tab.get(0).id;if(id)localStorage.setItem('Drupal.toolbar.activeTabID',JSON.stringify(id));const $tray=this.$el.find(`[data-toolbar-tray="${name}"].toolbar-tray`);if($tray.length){$tray.addClass('is-active');this.model.set('activeTray',$tray.get(0));}else this.model.set('activeTray',null);}else{this.model.set('activeTray',null);localStorage.removeItem('Drupal.toolbar.activeTabID');}},updateBarAttributes(){const isOriented=this.model.get('isOriented');if(isOriented)this.$el.find('.toolbar-bar').attr('data-offset-top','');else this.$el.find('.toolbar-bar').removeAttr('data-offset-top');this.$el.toggleClass('toolbar-oriented',isOriented);},updateTrayOrientation(){const orientation=this.model.get('orientation');const antiOrientation=orientation==='vertical'?'horizontal':'vertical';$('body').toggleClass('toolbar-vertical',orientation==='vertical').toggleClass('toolbar-horizontal',orientation==='horizontal');const removeClass=antiOrientation==='horizontal'?'toolbar-tray-horizontal':'toolbar-tray-vertical';const $trays=this.$el.find('.toolbar-tray').removeClass(removeClass).addClass(`toolbar-tray-${orientation}`);const iconClass=`toolbar-icon-toggle-${orientation}`;const iconAntiClass=`toolbar-icon-toggle-${antiOrientation}`;const $orientationToggle=this.$el.find('.toolbar-toggle-orientation').toggle(this.model.get('isTrayToggleVisible'));const $orientationToggleButton=$orientationToggle.find('button');$orientationToggleButton[0].value=antiOrientation;$orientationToggleButton.attr('title',this.strings[antiOrientation]).removeClass(iconClass).addClass(iconAntiClass);$orientationToggleButton[0].textContent=this.strings[antiOrientation];const dir=document.documentElement.dir;const edge=dir==='rtl'?'right':'left';$trays.removeAttr('data-offset-left data-offset-right data-offset-top');$trays.filter('.toolbar-tray-vertical.is-active').attr(`data-offset-${edge}`,'');$trays.filter('.toolbar-tray-horizontal.is-active').attr('data-offset-top','');},adjustPlacement(){const $trays=this.$el.find('.toolbar-tray');if(!this.model.get('isOriented'))$trays.removeClass('toolbar-tray-horizontal').addClass('toolbar-tray-vertical');},loadSubtrees(){const $activeTab=$(this.model.get('activeTab'));const orientation=this.model.get('orientation');if(!this.model.get('areSubtreesLoaded')&&typeof $activeTab.data('drupal-subtrees')!=='undefined'&&orientation==='vertical'){const subtreesHash=drupalSettings.toolbar.subtreesHash;const theme=drupalSettings.ajaxPageState.theme;const endpoint=Drupal.url(`toolbar/subtrees/${subtreesHash}`);const cachedSubtreesHash=localStorage.getItem(`Drupal.toolbar.subtreesHash.${theme}`);const cachedSubtrees=JSON.parse(localStorage.getItem(`Drupal.toolbar.subtrees.${theme}`));const isVertical=this.model.get('orientation')==='vertical';if(isVertical&&subtreesHash===cachedSubtreesHash&&cachedSubtrees)Drupal.toolbar.setSubtrees.resolve(cachedSubtrees);else{if(isVertical){localStorage.removeItem(`Drupal.toolbar.subtreesHash.${theme}`);localStorage.removeItem(`Drupal.toolbar.subtrees.${theme}`);Drupal.ajax({url:endpoint}).execute();localStorage.setItem(`Drupal.toolbar.subtreesHash.${theme}`,subtreesHash);}}}}});})(jQuery,Drupal,drupalSettings,Backbone);;
(function($,Drupal,drupalSettings){const pathInfo=drupalSettings.path;const escapeAdminPath=sessionStorage.getItem('escapeAdminPath');const windowLocation=window.location;if(!pathInfo.currentPathIsAdmin&&!/destination=/.test(windowLocation.search))sessionStorage.setItem('escapeAdminPath',windowLocation);Drupal.behaviors.escapeAdmin={attach(){const toolbarEscape=once('escapeAdmin','[data-toolbar-escape-admin]');if(toolbarEscape.length&&pathInfo.currentPathIsAdmin&&escapeAdminPath!==null)$(toolbarEscape).attr('href',escapeAdminPath);}};})(jQuery,Drupal,drupalSettings);;
